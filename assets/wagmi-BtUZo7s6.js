var oa=e=>{throw TypeError(e)};var Ds=(e,t,n)=>t.has(e)||oa("Cannot "+n);var y=(e,t,n)=>(Ds(e,t,"read from private field"),n?n.call(e):t.get(e)),z=(e,t,n)=>t.has(e)?oa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),N=(e,t,n,r)=>(Ds(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),q=(e,t,n)=>(Ds(e,t,"access private method"),n);var Dr=(e,t,n,r)=>({set _(s){N(e,t,s,n)},get _(){return y(e,t,r)}});import{r as V,g as kf}from"./vendor-Daw4SczE.js";var Cc={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=V,Ff=Symbol.for("react.element"),Mf=Symbol.for("react.fragment"),Nf=Object.prototype.hasOwnProperty,_f=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jf={key:!0,ref:!0,__self:!0,__source:!0};function Bc(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Nf.call(t,r)&&!jf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ff,type:e,key:o,ref:i,props:s,_owner:_f.current}}bs.Fragment=Mf;bs.jsx=Bc;bs.jsxs=Bc;Cc.exports=bs;var zf=Cc.exports;const Oc="2.32.1";let qs={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Oc}`},B=class bo extends Error{constructor(t,n={}){const r=n.cause instanceof bo?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof bo&&n.cause.docsPath||n.docsPath,o=qs.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...qs.version?[`Version: ${qs.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Oc}walk(t){return Tc(this,t)}};function Tc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Tc(e.cause,t):t?null:e}let kc=class extends B{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Lf extends B{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Uf extends B{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Df=class extends B{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}},Rc=class extends B{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Fc=class extends B{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class ia extends B{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function it(e,{dir:t,size:n=32}={}){return typeof e=="string"?kt(e,{dir:t,size:n}):qf(e,{dir:t,size:n})}function kt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Fc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function qf(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Fc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}function _e(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function J(e){return _e(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Qe(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const Hf=new TextEncoder;function qn(e,t={}){return typeof e=="number"||typeof e=="bigint"?Vf(e,t):typeof e=="boolean"?Gf(e,t):_e(e)?Be(e,t):Jt(e,t)}function Gf(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Re(n,{size:t.size}),it(n,{size:t.size})):n}const Ye={zero:48,nine:57,A:65,F:70,a:97,f:102};function aa(e){if(e>=Ye.zero&&e<=Ye.nine)return e-Ye.zero;if(e>=Ye.A&&e<=Ye.F)return e-(Ye.A-10);if(e>=Ye.a&&e<=Ye.f)return e-(Ye.a-10)}function Be(e,t={}){let n=e;t.size&&(Re(n,{size:t.size}),n=it(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const u=aa(r.charCodeAt(a++)),c=aa(r.charCodeAt(a++));if(u===void 0||c===void 0)throw new B(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=u*16+c}return o}function Vf(e,t){const n=_(e,t);return Be(n)}function Jt(e,t={}){const n=Hf.encode(e);return typeof t.size=="number"?(Re(n,{size:t.size}),it(n,{dir:"right",size:t.size})):n}function Re(e,{size:t}){if(J(e)>t)throw new Df({givenSize:J(e),maxSize:t})}function Oe(e,t={}){const{signed:n}=t;t.size&&Re(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Wf(e,t={}){let n=e;if(t.size&&(Re(n,{size:t.size}),n=Qe(n)),Qe(n)==="0x00")return!1;if(Qe(n)==="0x01")return!0;throw new Uf(n)}function je(e,t={}){return Number(Oe(e,t))}function Mc(e,t={}){let n=Be(e);return t.size&&(Re(n,{size:t.size}),n=Qe(n,{dir:"right"})),new TextDecoder().decode(n)}const Kf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ut(e,t={}){return typeof e=="number"||typeof e=="bigint"?_(e,t):typeof e=="string"?Nn(e,t):typeof e=="boolean"?pi(e,t):re(e,t)}function pi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Re(n,{size:t.size}),it(n,{size:t.size})):n}function re(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Kf[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Re(r,{size:t.size}),it(r,{dir:"right",size:t.size})):r}function _(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new kc({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?it(a,{size:r}):a}const Qf=new TextEncoder;function Nn(e,t={}){const n=Qf.encode(e);return re(n,t)}function ze(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new il(e.type);return`${e.name}(${ys(e.inputs,{includeName:t})})`}function ys(e,{includeName:t=!1}={}){return e?e.map(n=>Zf(n,{includeName:t})).join(t?", ":","):""}function Zf(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ys(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Jf extends B{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ca extends B{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Nc extends B{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ys(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Or extends B{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Yf extends B{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Xf extends B{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${J(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class _c extends B{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class el extends B{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class ua extends B{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class jc extends B{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class tl extends B{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class zc extends B{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class da extends B{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class _n extends B{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Lc extends B{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class nl extends B{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class rl extends B{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ze(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ze(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Uc=class extends B{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class sr extends B{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ys(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class gs extends B{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ze(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class sl extends B{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class ol extends B{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Dc=class extends B{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class il extends B{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class al extends B{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}function Le(e){return typeof e[0]=="string"?_t(e):cl(e)}function cl(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function _t(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}let dt=class extends B{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Tr=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const qr=BigInt(2**32-1),fa=BigInt(32);function ul(e,t=!1){return t?{h:Number(e&qr),l:Number(e>>fa&qr)}:{h:Number(e>>fa&qr)|0,l:Number(e&qr)|0}}function qc(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=ul(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const la=(e,t,n)=>e>>>n,ha=(e,t,n)=>e<<32-n|t>>>n,mn=(e,t,n)=>e>>>n|t<<32-n,bn=(e,t,n)=>e<<32-n|t>>>n,Hr=(e,t,n)=>e<<64-n|t>>>n-32,Gr=(e,t,n)=>e>>>n-32|t<<64-n,dl=(e,t,n)=>e<<n|t>>>32-n,fl=(e,t,n)=>t<<n|e>>>32-n,ll=(e,t,n)=>t<<n-32|e>>>64-n,hl=(e,t,n)=>e<<n-32|t>>>64-n;function Xe(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const pl=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),ml=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,bl=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),yl=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,gl=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),wl=(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,yn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ws(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function or(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Te(e,...t){if(!ws(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function vl(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");or(e.outputLen),or(e.blockLen)}function jn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Hc(e,t){Te(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function xl(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Mt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Hs(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function qe(e,t){return e<<32-t|e>>>t}const El=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pl(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Sl(e){for(let t=0;t<e.length;t++)e[t]=Pl(e[t]);return e}const pa=El?e=>e:Sl,Gc=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Il=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function en(e){if(Te(e),Gc)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Il[e[n]];return t}const et={_0:48,_9:57,A:65,F:70,a:97,f:102};function ma(e){if(e>=et._0&&e<=et._9)return e-et._0;if(e>=et.A&&e<=et.F)return e-(et.A-10);if(e>=et.a&&e<=et.f)return e-(et.a-10)}function kr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Gc)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=ma(e.charCodeAt(o)),a=ma(e.charCodeAt(o+1));if(i===void 0||a===void 0){const u=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+o)}r[s]=i*16+a}return r}function Al(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function vs(e){return typeof e=="string"&&(e=Al(e)),Te(e),e}function Tt(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Te(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class mi{}function xs(e){const t=r=>e().update(vs(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function $l(e=32){if(yn&&typeof yn.getRandomValues=="function")return yn.getRandomValues(new Uint8Array(e));if(yn&&typeof yn.randomBytes=="function")return Uint8Array.from(yn.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Cl=BigInt(0),Jn=BigInt(1),Bl=BigInt(2),Ol=BigInt(7),Tl=BigInt(256),kl=BigInt(113),Vc=[],Wc=[],Kc=[];for(let e=0,t=Jn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Vc.push(2*(5*r+n)),Wc.push((e+1)*(e+2)/2%64);let s=Cl;for(let o=0;o<7;o++)t=(t<<Jn^(t>>Ol)*kl)%Tl,t&Bl&&(s^=Jn<<(Jn<<BigInt(o))-Jn);Kc.push(s)}const Qc=qc(Kc,!0),Rl=Qc[0],Fl=Qc[1],ba=(e,t,n)=>n>32?ll(e,t,n):dl(e,t,n),ya=(e,t,n)=>n>32?hl(e,t,n):fl(e,t,n);function Ml(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,u=(i+2)%10,c=n[u],d=n[u+1],f=ba(c,d,1)^n[a],l=ya(c,d,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=f,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Wc[i],u=ba(s,o,a),c=ya(s,o,a),d=Vc[i];s=e[d],o=e[d+1],e[d]=u,e[d+1]=c}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Rl[r],e[1]^=Fl[r]}Mt(n)}class bi extends mi{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,or(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=xl(this.state)}clone(){return this._cloneInto()}keccak(){pa(this.state32),Ml(this.state32,this.rounds),pa(this.state32),this.posOut=0,this.pos=0}update(t){jn(this),t=vs(t),Te(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){jn(this,!1),Te(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return or(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Hc(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new bi(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Nl=(e,t,n)=>xs(()=>new bi(t,e,n)),Zc=Nl(1,136,256/8);function se(e,t){const n=t||"hex",r=Zc(_e(e,{strict:!1})?qn(e):e);return n==="bytes"?r:ut(r)}const Gs=new Tr(8192);function Es(e,t){if(Gs.has(`${e}.${t}`))return Gs.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=se(Jt(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Gs.set(`${e}.${t}`,o),o}function vn(e,t){if(!xe(e,{strict:!1}))throw new dt({address:e});return Es(e,t)}const _l=/^0x[a-fA-F0-9]{40}$/,Vs=new Tr(8192);function xe(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Vs.has(r))return Vs.get(r);const s=_l.test(e)?e.toLowerCase()===e?!0:n?Es(e)===e:!0:!1;return Vs.set(r,s),s}function zn(e,t,n,{strict:r}={}){return _e(e,{strict:!1})?os(e,t,n,{strict:r}):Xc(e,t,n,{strict:r})}function Jc(e,t){if(typeof t=="number"&&t>0&&t>J(e)-1)throw new Rc({offset:t,position:"start",size:J(e)})}function Yc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&J(e)!==n-t)throw new Rc({offset:n,position:"end",size:J(e)})}function Xc(e,t,n,{strict:r}={}){Jc(e,t);const s=e.slice(t,n);return r&&Yc(s,t,n),s}function os(e,t,n,{strict:r}={}){Jc(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Yc(s,t,n),s}const jl=/^(.*)\[([0-9]*)\]$/,eu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,yi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ht(e,t){if(e.length!==t.length)throw new _c({expectedLength:e.length,givenLength:t.length});const n=zl({params:e,values:t}),r=wi(n);return r.length===0?"0x":r}function zl({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(gi({param:e[r],value:t[r]}));return n}function gi({param:e,value:t}){const n=vi(e.type);if(n){const[r,s]=n;return Ul(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Vl(t,{param:e});if(e.type==="address")return Ll(t);if(e.type==="bool")return ql(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=yi.exec(e.type)??[];return Hl(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Dl(t,{param:e});if(e.type==="string")return Gl(t);throw new sl(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function wi(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=J(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(_(t+s,{size:32})),r.push(a),s+=J(a)):n.push(a)}return Le([...n,...r])}function Ll(e){if(!xe(e))throw new dt({address:e});return{dynamic:!1,encoded:kt(e.toLowerCase())}}function Ul(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Dc(e);if(!r&&e.length!==t)throw new Yf({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=gi({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=wi(o);if(r){const a=_(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Le([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Le(o.map(({encoded:i})=>i))}}function Dl(e,{param:t}){const[,n]=t.type.split("bytes"),r=J(e);if(!n){let s=e;return r%32!==0&&(s=kt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Le([kt(_(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Xf({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:kt(e,{dir:"right"})}}function ql(e){if(typeof e!="boolean")throw new B(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:kt(pi(e))}}function Hl(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new kc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:_(e,{size:32,signed:t})}}function Gl(e){const t=Nn(e),n=Math.ceil(J(t)/32),r=[];for(let s=0;s<n;s++)r.push(kt(zn(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Le([kt(_(J(t),{size:32})),...r])}}function Vl(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=gi({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?wi(r):Le(r.map(({encoded:s})=>s))}}function vi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Ws="/docs/contract/encodeDeployData";function xi(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Jf({docsPath:Ws});if(!("inputs"in s))throw new ca({docsPath:Ws});if(!s.inputs||s.inputs.length===0)throw new ca({docsPath:Ws});const o=ht(s.inputs,n);return _t([r,o])}function ce(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}class Ei extends B{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Ks extends B{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Wl(e){const t=se(`0x${e.substring(4)}`).substring(26);return Es(`0x${t}`)}const Kl="modulepreload",Ql=function(e,t){return new URL(e,t).href},ga={},tu=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(n.map(c=>{if(c=Ql(c,r),c in ga)return;ga[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===c&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Kl,d||(h.as="script"),h.crossOrigin="",h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),d)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};async function Zl({hash:e,signature:t}){const n=_e(e)?e:ut(e),{secp256k1:r}=await tu(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>my);return{secp256k1:i}},void 0,import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:c,s:d,v:f,yParity:l}=t,h=Number(l??f),p=wa(h);return new r.Signature(Oe(c),Oe(d)).addRecoveryBit(p)}const i=_e(t)?t:ut(t);if(J(i)!==65)throw new Error("invalid signature length");const a=je(`0x${i.slice(130)}`),u=wa(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function wa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function nu({hash:e,signature:t}){return Wl(await Zl({hash:e,signature:t}))}class va extends B{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class ru extends B{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Jl extends B{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Yl={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Jl({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ru({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new va({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new va({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Pi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Yl);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Xl(e,t="hex"){const n=su(e),r=Pi(new Uint8Array(n.length));return n.encode(r),t==="hex"?re(r.bytes):r.bytes}function su(e){return Array.isArray(e)?eh(e.map(t=>su(t))):th(e)}function eh(e){const t=e.reduce((s,o)=>s+o.length,0),n=ou(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function th(e){const t=typeof e=="string"?Be(e):e,n=ou(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function ou(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new B("Length is too large.")}function nh(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=se(_t(["0x05",Xl([t?_(t):"0x",s,n?_(n):"0x"])]));return r==="bytes"?Be(o):o}async function iu(e){const{authorization:t,signature:n}=e;return nu({hash:nh(t),signature:n??t})}class yo extends B{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class rh extends B{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class sh extends B{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class au extends B{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function oh({chain:e,currentChainId:t}){if(!e)throw new sh;if(t!==e.id)throw new rh({chain:e,currentChainId:t})}const cu={gwei:9,wei:18},ih={ether:-9,wei:9},ah={ether:-18,gwei:-9};function Ps(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function we(e,t="wei"){return Ps(e,ih[t])}class xn extends B{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(xn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class is extends B{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${we(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(is,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class go extends B{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${we(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(go,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class wo extends B{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(wo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class vo extends B{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(vo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class xo extends B{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(xo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Eo extends B{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Eo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Po extends B{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Po,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class So extends B{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(So,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Io extends B{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Io,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class as extends B{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${we(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${we(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(as,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Rr extends B{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Si(e,t="wei"){return Ps(e,cu[t])}function Fr(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class ch extends B{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class uh extends B{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Fr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class dh extends B{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:d,to:f,value:l}){const h=Fr({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:f,value:typeof l<"u"&&`${Si(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${we(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${we(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${we(c)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class uu extends B{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class du extends B{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class fh extends B{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ee=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n),lh=e=>e,Mr=e=>e;class Yt extends B{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Mr(i)}`,t&&`Request body: ${ee(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class Ii extends B{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Mr(r)}`,`Request body: ${ee(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class xa extends B{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Mr(n)}`,`Request body: ${ee(t)}`],name:"TimeoutError"})}}const hh=-1;class ve extends B{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Ii?t.code:n??hh}}class Ee extends ve{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class ir extends ve{constructor(t){super(t,{code:ir.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ar extends ve{constructor(t){super(t,{code:ar.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(ar,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class cr extends ve{constructor(t,{method:n}={}){super(t,{code:cr.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ur extends ve{constructor(t){super(t,{code:ur.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class tn extends ve{constructor(t){super(t,{code:tn.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class nn extends ve{constructor(t){super(t,{code:nn.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class dr extends ve{constructor(t){super(t,{code:dr.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Rt extends ve{constructor(t){super(t,{code:Rt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class fr extends ve{constructor(t){super(t,{code:fr.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class zt extends ve{constructor(t,{method:n}={}){super(t,{code:zt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ln extends ve{constructor(t){super(t,{code:Ln.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class lr extends ve{constructor(t){super(t,{code:lr.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class le extends Ee{constructor(t){super(t,{code:le.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(le,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class hr extends Ee{constructor(t){super(t,{code:hr.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class pr extends Ee{constructor(t,{method:n}={}){super(t,{code:pr.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class mr extends Ee{constructor(t){super(t,{code:mr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class br extends Ee{constructor(t){super(t,{code:br.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(br,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class rn extends Ee{constructor(t){super(t,{code:rn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class yr extends Ee{constructor(t){super(t,{code:yr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class gr extends Ee{constructor(t){super(t,{code:gr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class wr extends Ee{constructor(t){super(t,{code:wr.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class vr extends Ee{constructor(t){super(t,{code:vr.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class xr extends Ee{constructor(t){super(t,{code:xr.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Er extends Ee{constructor(t){super(t,{code:Er.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Er,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Pr extends Ee{constructor(t){super(t,{code:Pr.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class ph extends ve{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Ss(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof B?e.walk(s=>s?.code===xn.code):e;return r instanceof B?new xn({cause:e,message:r.details}):xn.nodeMessage.test(n)?new xn({cause:e,message:e.details}):is.nodeMessage.test(n)?new is({cause:e,maxFeePerGas:t?.maxFeePerGas}):go.nodeMessage.test(n)?new go({cause:e,maxFeePerGas:t?.maxFeePerGas}):wo.nodeMessage.test(n)?new wo({cause:e,nonce:t?.nonce}):vo.nodeMessage.test(n)?new vo({cause:e,nonce:t?.nonce}):xo.nodeMessage.test(n)?new xo({cause:e,nonce:t?.nonce}):Eo.nodeMessage.test(n)?new Eo({cause:e}):Po.nodeMessage.test(n)?new Po({cause:e,gas:t?.gas}):So.nodeMessage.test(n)?new So({cause:e,gas:t?.gas}):Io.nodeMessage.test(n)?new Io({cause:e}):as.nodeMessage.test(n)?new as({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Rr({cause:e})}function mh(e,{docsPath:t,...n}){const r=(()=>{const s=Ss(e,n);return s instanceof Rr?e:s})();return new dh(r,{docsPath:t,...n})}function Is(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const bh={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Nr(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=yh(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>re(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=_(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=_(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=_(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=_(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=_(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=_(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=bh[e.type]),typeof e.value<"u"&&(t.value=_(e.value)),t}function yh(e){return e.map(t=>({address:t.address,r:t.r?_(BigInt(t.r)):t.r,s:t.s?_(BigInt(t.s)):t.s,chainId:_(t.chainId),nonce:_(t.nonce),...typeof t.yParity<"u"?{yParity:_(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:_(t.v)}:{}}))}function L(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const gh=2n**256n-1n;function Hn(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?ce(t):void 0;if(i&&!xe(i.address))throw new dt({address:i.address});if(o&&!xe(o))throw new dt({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new ch;if(r&&r>gh)throw new is({maxFeePerGas:r});if(s&&r&&s>r)throw new as({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function As(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return je(t)}class wh extends B{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ai extends B{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class vh extends B{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${we(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class fu extends B{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const lu={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function hu(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?je(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?je(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?lu[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=xh(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function xh(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function pu(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:hu(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Ke(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){const o=r??"latest",i=s??!1,a=n!==void 0?_(n):void 0;let u=null;if(t?u=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):u=await e.request({method:"eth_getBlockByNumber",params:[a||o,i]},{dedupe:!!a}),!u)throw new fu({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||pu)(u)}async function $i(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Eh(e,t){return mu(e,t)}async function mu(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await L(e,Ke,"getBlock")({}),u=await o({block:a,client:e,request:s});if(u===null)throw new Error;return u}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return Oe(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):L(e,Ke,"getBlock")({}),L(e,$i,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Ai;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function Ph(e,t){return Ao(e,t)}async function Ao(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new wh;const u=10**(i.toString().split(".")[1]?.length??0),c=l=>l*BigInt(Math.ceil(i*u))/BigInt(u),d=n||await L(e,Ke,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Ai;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await mu(e,{block:d,chain:r,request:s}),h=c(d.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??c(await L(e,$i,"getGasPrice")({}))}}class Sh extends B{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:d,to:f,value:l}){const h=Fr({from:n?.address,to:f,value:typeof l<"u"&&`${Si(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${we(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${we(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${we(c)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Ih(e,{docsPath:t,...n}){const r=(()=>{const s=Ss(e,n);return s instanceof Rr?e:s})();return new Sh(r,{docsPath:t,...n})}class Ah extends B{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class $h extends B{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Ea(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Ch(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Ea(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Ea(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Pa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new ia({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ia({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Bh(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=_(t)),n!==void 0&&(i.nonce=_(n)),r!==void 0&&(i.state=Pa(r)),s!==void 0){if(i.state)throw new $h;i.stateDiff=Pa(s)}return i}function Ci(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!xe(n,{strict:!1}))throw new dt({address:n});if(t[n])throw new Ah({address:n});t[n]=Bh(r)}return t}async function Bi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?_(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Oi(e,t){const{account:n=e.account}=t,r=n?ce(n):void 0;try{let P=function(k){const{block:R,request:F,rpcStateOverride:M}=k;return e.request({method:"eth_estimateGas",params:M?[F,R??"latest",M]:R?[F,R]:[F]})};const{accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,blockNumber:u,blockTag:c,data:d,gas:f,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:b,value:v,stateOverride:E,...x}=await Ri(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),w=(typeof u=="bigint"?_(u):void 0)||c,S=Ci(E),I=await(async()=>{if(x.to)return x.to;if(o&&o.length>0)return await iu({authorization:o[0]}).catch(()=>{throw new B("`to` is required. Could not infer from `authorizationList`")})})();Hn(t);const C=e.chain?.formatters?.transactionRequest?.format,A=(C||Nr)({...Is(x,{format:C}),from:r?.address,accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,data:d,gas:f,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:b,to:I,value:v});let $=BigInt(await P({block:w,request:A,rpcStateOverride:S}));if(o){const k=await Bi(e,{address:A.from}),R=await Promise.all(o.map(async F=>{const{address:M}=F,j=await P({block:w,request:{authorizationList:void 0,data:d,from:r?.address,to:M,value:_(k)},rpcStateOverride:S}).catch(()=>100000n);return 2n*BigInt(j)}));$+=R.reduce((F,M)=>F+M,0n)}return $}catch(s){throw Ih(s,{...t,account:r,chain:e.chain})}}async function Ti(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?_(r):n]},{dedupe:!!r});return je(s)}function bu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Be(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>re(o))}function yu(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Be(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Be(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],u=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,u)))}return n==="bytes"?o:o.map(i=>re(i))}function Oh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),u=r?4:0,c=r?0:4;e.setUint32(t+u,i,r),e.setUint32(t+c,a,r)}function Th(e,t,n){return e&t^~e&n}function kh(e,t,n){return e&t^e&n^t&n}class gu extends mi{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Hs(this.buffer)}update(t){jn(this),t=vs(t),Te(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const u=Hs(t);for(;s<=o-i;i+=s)this.process(u,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){jn(this),Hc(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Mt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let f=i;f<s;f++)n[f]=0;Oh(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Hs(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const bt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oe=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ie=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Rh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yt=new Uint32Array(64);class Fh extends gu{constructor(t=32){super(64,t,8,!1),this.A=bt[0]|0,this.B=bt[1]|0,this.C=bt[2]|0,this.D=bt[3]|0,this.E=bt[4]|0,this.F=bt[5]|0,this.G=bt[6]|0,this.H=bt[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:u}=this;return[t,n,r,s,o,i,a,u]}set(t,n,r,s,o,i,a,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=u|0}process(t,n){for(let f=0;f<16;f++,n+=4)yt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const l=yt[f-15],h=yt[f-2],p=qe(l,7)^qe(l,18)^l>>>3,m=qe(h,17)^qe(h,19)^h>>>10;yt[f]=m+yt[f-7]+p+yt[f-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:u,G:c,H:d}=this;for(let f=0;f<64;f++){const l=qe(a,6)^qe(a,11)^qe(a,25),h=d+l+Th(a,u,c)+Rh[f]+yt[f]|0,m=(qe(r,2)^qe(r,13)^qe(r,22))+kh(r,s,o)|0;d=c,c=u,u=a,a=i+h|0,i=o,o=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,u,c,d)}roundClean(){Mt(yt)}destroy(){this.set(0,0,0,0,0,0,0,0),Mt(this.buffer)}}const wu=qc(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Mh=wu[0],Nh=wu[1],gt=new Uint32Array(80),wt=new Uint32Array(80);class vu extends gu{constructor(t=64){super(128,t,16,!1),this.Ah=ie[0]|0,this.Al=ie[1]|0,this.Bh=ie[2]|0,this.Bl=ie[3]|0,this.Ch=ie[4]|0,this.Cl=ie[5]|0,this.Dh=ie[6]|0,this.Dl=ie[7]|0,this.Eh=ie[8]|0,this.El=ie[9]|0,this.Fh=ie[10]|0,this.Fl=ie[11]|0,this.Gh=ie[12]|0,this.Gl=ie[13]|0,this.Hh=ie[14]|0,this.Hl=ie[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:o,Cl:i,Dh:a,Dl:u,Eh:c,El:d,Fh:f,Fl:l,Gh:h,Gl:p,Hh:m,Hl:b}=this;return[t,n,r,s,o,i,a,u,c,d,f,l,h,p,m,b]}set(t,n,r,s,o,i,a,u,c,d,f,l,h,p,m,b){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=l|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=b|0}process(t,n){for(let x=0;x<16;x++,n+=4)gt[x]=t.getUint32(n),wt[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const O=gt[x-15]|0,w=wt[x-15]|0,S=mn(O,w,1)^mn(O,w,8)^la(O,w,7),I=bn(O,w,1)^bn(O,w,8)^ha(O,w,7),C=gt[x-2]|0,g=wt[x-2]|0,A=mn(C,g,19)^Hr(C,g,61)^la(C,g,6),P=bn(C,g,19)^Gr(C,g,61)^ha(C,g,6),$=bl(I,P,wt[x-7],wt[x-16]),k=yl($,S,A,gt[x-7],gt[x-16]);gt[x]=k|0,wt[x]=$|0}let{Ah:r,Al:s,Bh:o,Bl:i,Ch:a,Cl:u,Dh:c,Dl:d,Eh:f,El:l,Fh:h,Fl:p,Gh:m,Gl:b,Hh:v,Hl:E}=this;for(let x=0;x<80;x++){const O=mn(f,l,14)^mn(f,l,18)^Hr(f,l,41),w=bn(f,l,14)^bn(f,l,18)^Gr(f,l,41),S=f&h^~f&m,I=l&p^~l&b,C=gl(E,w,I,Nh[x],wt[x]),g=wl(C,v,O,S,Mh[x],gt[x]),A=C|0,P=mn(r,s,28)^Hr(r,s,34)^Hr(r,s,39),$=bn(r,s,28)^Gr(r,s,34)^Gr(r,s,39),k=r&o^r&a^o&a,R=s&i^s&u^i&u;v=m|0,E=b|0,m=h|0,b=p|0,h=f|0,p=l|0,{h:f,l}=Xe(c|0,d|0,g|0,A|0),c=a|0,d=u|0,a=o|0,u=i|0,o=r|0,i=s|0;const F=pl(A,$,R);r=ml(F,g,P,k),s=F|0}({h:r,l:s}=Xe(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:i}=Xe(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l:u}=Xe(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:d}=Xe(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l}=Xe(this.Eh|0,this.El|0,f|0,l|0),{h,l:p}=Xe(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:b}=Xe(this.Gh|0,this.Gl|0,m|0,b|0),{h:v,l:E}=Xe(this.Hh|0,this.Hl|0,v|0,E|0),this.set(r,s,o,i,a,u,c,d,f,l,h,p,m,b,v,E)}roundClean(){Mt(gt,wt)}destroy(){Mt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _h extends vu{constructor(){super(48),this.Ah=oe[0]|0,this.Al=oe[1]|0,this.Bh=oe[2]|0,this.Bl=oe[3]|0,this.Ch=oe[4]|0,this.Cl=oe[5]|0,this.Dh=oe[6]|0,this.Dl=oe[7]|0,this.Eh=oe[8]|0,this.El=oe[9]|0,this.Fh=oe[10]|0,this.Fl=oe[11]|0,this.Gh=oe[12]|0,this.Gl=oe[13]|0,this.Hh=oe[14]|0,this.Hl=oe[15]|0}}const xu=xs(()=>new Fh),Uw=xs(()=>new vu),Dw=xs(()=>new _h),jh=xu;function zh(e,t){return jh(_e(e,{strict:!1})?qn(e):e)}function Lh(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=zh(t);return s.set([n],0),r==="bytes"?s:re(s)}function Uh(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(Lh({commitment:o,to:r,version:n}));return s}const Sa=6,Eu=32,ki=4096,Pu=Eu*ki,Ia=Pu*Sa-1-1*ki*Sa;class Dh extends B{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class qh extends B{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Hh(e){const t=typeof e.data=="string"?Be(e.data):e.data,n=J(t);if(!n)throw new qh;if(n>Ia)throw new Dh({maxSize:Ia,size:n});const r=[];let s=!0,o=0;for(;s;){const i=Pi(new Uint8Array(Pu));let a=0;for(;a<ki;){const u=t.slice(o,o+(Eu-1));if(i.pushByte(0),i.pushBytes(u),u.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>re(i.bytes))}function Gh(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Hh({data:t}),o=e.commitments??bu({blobs:s,kzg:n,to:r}),i=e.proofs??yu({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let u=0;u<s.length;u++)a.push({blob:s[u],commitment:o[u],proof:i[u]});return a}function Vh(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new uh({transaction:e})}const Su=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Aa=new Map;async function Ri(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:u,parameters:c=Su,type:d}=t,f=n&&ce(n),l={...t,...f?{from:f?.address}:{}};let h;async function p(){return h||(h=await L(e,Ke,"getBlock")({blockTag:"latest"}),h)}let m;async function b(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await L(e,As,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&f)if(u){const v=await b();l.nonce=await u.consume({address:f.address,chainId:v,client:e})}else l.nonce=await L(e,Ti,"getTransactionCount")({address:f.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&i){const v=bu({blobs:r,kzg:i});if(c.includes("blobVersionedHashes")){const E=Uh({commitments:v,to:"hex"});l.blobVersionedHashes=E}if(c.includes("sidecars")){const E=yu({blobs:r,commitments:v,kzg:i}),x=Gh({blobs:r,commitments:v,proofs:E,to:"hex"});l.sidecars=x}}if(c.includes("chainId")&&(l.chainId=await b()),(c.includes("fees")||c.includes("type"))&&typeof d>"u")try{l.type=Vh(l)}catch{let v=Aa.get(e.uid);typeof v>"u"&&(v=typeof(await p())?.baseFeePerGas=="bigint",Aa.set(e.uid,v)),l.type=v?"eip1559":"legacy"}if(c.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const v=await p(),{maxFeePerGas:E,maxPriorityFeePerGas:x}=await Ao(e,{block:v,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<x)throw new vh({maxPriorityFeePerGas:x});l.maxPriorityFeePerGas=x,l.maxFeePerGas=E}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ai;if(typeof t.gasPrice>"u"){const v=await p(),{gasPrice:E}=await Ao(e,{block:v,chain:s,request:l,type:"legacy"});l.gasPrice=E}}return c.includes("gas")&&typeof o>"u"&&(l.gas=await L(e,Oi,"estimateGas")({...l,account:f&&{address:f.address,type:"json-rpc"}})),Hn(l),delete l.parameters,l}async function Iu(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Qs=new Tr(128);async function Wh(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:o,blobs:i,data:a,gas:u,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:h,type:p,value:m,...b}=t;if(typeof n>"u")throw new Ei({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?ce(n):null;try{Hn(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await iu({authorization:o[0]}).catch(()=>{throw new B("`to` is required. Could not infer from `authorizationList`.")})})();if(v?.type==="json-rpc"||v===null){let x;r!==null&&(x=await L(e,As,"getChainId")({}),oh({currentChainId:x,chain:r}));const O=e.chain?.formatters?.transactionRequest?.format,S=(O||Nr)({...Is(b,{format:O}),accessList:s,authorizationList:o,blobs:i,chainId:x,data:a,from:v?.address,gas:u,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:h,to:E,type:p,value:m}),I=Qs.get(e.uid),C=I?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:C,params:[S]},{retryCount:0})}catch(g){if(I===!1)throw g;const A=g;if(A.name==="InvalidInputRpcError"||A.name==="InvalidParamsRpcError"||A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[S]},{retryCount:0}).then(P=>(Qs.set(e.uid,!0),P)).catch(P=>{const $=P;throw $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"?(Qs.set(e.uid,!1),A):$});throw A}}if(v?.type==="local"){const x=await L(e,Ri,"prepareTransactionRequest")({account:v,accessList:s,authorizationList:o,blobs:i,chain:r,data:a,gas:u,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:h,nonceManager:v.nonceManager,parameters:[...Su,"sidecars"],type:p,value:m,...b,to:E}),O=r?.serializers?.transaction,w=await v.signTransaction(x,{serializer:O});return await L(e,Iu,"sendRawTransaction")({serializedTransaction:w})}throw v?.type==="smart"?new Ks({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ks({docsPath:"/docs/actions/wallet/sendTransaction",type:v?.type})}catch(E){throw E instanceof Ks?E:mh(E,{...t,account:v,chain:t.chain||void 0})}}const $o=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Co=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Au=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],$u=[...Au,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Kh=[...Au,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],$a=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ca=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ba=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],qw=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Qh(e,t={}){typeof t.size<"u"&&Re(e,{size:t.size});const n=re(e,t);return Oe(n,t)}function Zh(e,t={}){let n=e;if(typeof t.size<"u"&&(Re(n,{size:t.size}),n=Qe(n)),n.length>1||n[0]>1)throw new Lf(n);return!!n[0]}function at(e,t={}){typeof t.size<"u"&&Re(e,{size:t.size});const n=re(e,t);return je(n,t)}function Jh(e,t={}){let n=e;return typeof t.size<"u"&&(Re(n,{size:t.size}),n=Qe(n,{dir:"right"})),new TextDecoder().decode(n)}function _r(e,t){const n=typeof t=="string"?Be(t):t,r=Pi(n);if(J(n)===0&&e.length>0)throw new Or;if(J(t)&&J(t)<32)throw new Nc({data:typeof t=="string"?t:re(t),params:e,size:J(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[u,c]=Pn(r,a,{staticPosition:0});s+=c,o.push(u)}return o}function Pn(e,t,{staticPosition:n}){const r=vi(t.type);if(r){const[s,o]=r;return Xh(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return rp(e,t,{staticPosition:n});if(t.type==="address")return Yh(e);if(t.type==="bool")return ep(e);if(t.type.startsWith("bytes"))return tp(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return np(e,t);if(t.type==="string")return sp(e,{staticPosition:n});throw new ol(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Oa=32,Bo=32;function Yh(e){const t=e.readBytes(32);return[Es(re(Xc(t,-20))),32]}function Xh(e,t,{length:n,staticPosition:r}){if(!n){const i=at(e.readBytes(Bo)),a=r+i,u=a+Oa;e.setPosition(a);const c=at(e.readBytes(Oa)),d=Sr(t);let f=0;const l=[];for(let h=0;h<c;++h){e.setPosition(u+(d?h*32:f));const[p,m]=Pn(e,t,{staticPosition:u});f+=m,l.push(p)}return e.setPosition(r+32),[l,32]}if(Sr(t)){const i=at(e.readBytes(Bo)),a=r+i,u=[];for(let c=0;c<n;++c){e.setPosition(a+c*32);const[d]=Pn(e,t,{staticPosition:a});u.push(d)}return e.setPosition(r+32),[u,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,u]=Pn(e,t,{staticPosition:r+s});s+=u,o.push(a)}return[o,s]}function ep(e){return[Zh(e.readBytes(32),{size:32}),32]}function tp(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=at(e.readBytes(32));e.setPosition(n+i);const a=at(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const u=e.readBytes(a);return e.setPosition(n+32),[re(u),32]}return[re(e.readBytes(Number.parseInt(s),32)),32]}function np(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Qh(s,{signed:n}):at(s,{signed:n}),32]}function rp(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Sr(t)){const i=at(e.readBytes(Bo)),a=n+i;for(let u=0;u<t.components.length;++u){const c=t.components[u];e.setPosition(a+o);const[d,f]=Pn(e,c,{staticPosition:a});o+=f,s[r?u:c?.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[u,c]=Pn(e,a,{staticPosition:n});s[r?i:a?.name]=u,o+=c}return[s,o]}function sp(e,{staticPosition:t}){const n=at(e.readBytes(32)),r=t+n;e.setPosition(r);const s=at(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Jh(Qe(o));return e.setPosition(t+32),[i,32]}function Sr(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Sr);const n=vi(e.type);return!!(n&&Sr({...e,type:n[1]}))}const op=e=>se(qn(e));function ip(e){return op(e)}const ap="1.0.8";let Pe=class Oo extends Error{constructor(t,n={}){const r=n.cause instanceof Oo?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Oo&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ap}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function pt(e,t){return e.exec(t)?.groups}const Cu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Bu=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ou=/^\(.+?\).*?$/,Ta=/^tuple(?<array>(\[(\d*)\])*)$/;function To(e){let t=e.type;if(Ta.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=To(o),s<n-1&&(t+=", ")}const r=pt(Ta,e.type);return t+=`)${r?.array??""}`,To({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Yn(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=To(s),r!==n-1&&(t+=", ")}return t}function cs(e){return e.type==="function"?`function ${e.name}(${Yn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Yn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Yn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Yn(e.inputs)})`:e.type==="constructor"?`constructor(${Yn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Tu=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function cp(e){return Tu.test(e)}function up(e){return pt(Tu,e)}const ku=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function dp(e){return ku.test(e)}function fp(e){return pt(ku,e)}const Ru=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function lp(e){return Ru.test(e)}function hp(e){return pt(Ru,e)}const Fu=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Fi(e){return Fu.test(e)}function pp(e){return pt(Fu,e)}const Mu=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function mp(e){return Mu.test(e)}function bp(e){return pt(Mu,e)}const Nu=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function yp(e){return Nu.test(e)}function gp(e){return pt(Nu,e)}const wp=/^receive\(\) external payable$/;function vp(e){return wp.test(e)}const xp=new Set(["indexed"]),ko=new Set(["calldata","memory","storage"]);class Ep extends Pe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Pp extends Pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Sp extends Pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Ip extends Pe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ap extends Pe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class $p extends Pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Cp extends Pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Bp extends Pe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Gn extends Pe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Op extends Pe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Tp extends Pe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class kp extends Pe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Rp extends Pe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Fp(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const Zs=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ro(e,t={}){if(lp(e))return Mp(e,t);if(dp(e))return Np(e,t);if(cp(e))return _p(e,t);if(mp(e))return jp(e,t);if(yp(e))return zp(e);if(vp(e))return{type:"receive",stateMutability:"payable"};throw new Op({signature:e})}function Mp(e,t={}){const n=hp(e);if(!n)throw new Gn({signature:e,type:"function"});const r=Ne(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(sn(r[a],{modifiers:ko,structs:t,type:"function"}));const i=[];if(n.returns){const a=Ne(n.returns),u=a.length;for(let c=0;c<u;c++)i.push(sn(a[c],{modifiers:ko,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Np(e,t={}){const n=fp(e);if(!n)throw new Gn({signature:e,type:"event"});const r=Ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(sn(r[i],{modifiers:xp,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function _p(e,t={}){const n=up(e);if(!n)throw new Gn({signature:e,type:"error"});const r=Ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(sn(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function jp(e,t={}){const n=bp(e);if(!n)throw new Gn({signature:e,type:"constructor"});const r=Ne(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(sn(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function zp(e){const t=gp(e);if(!t)throw new Gn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Lp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Up=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Dp=/^u?int$/;function sn(e,t){const n=Fp(e,t?.type,t?.structs);if(Zs.has(n))return Zs.get(n);const r=Ou.test(e),s=pt(r?Up:Lp,e);if(!s)throw new Ip({param:e});if(s.name&&Hp(s.name))throw new Ap({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let u,c={};if(r){u="tuple";const f=Ne(s.type),l=[],h=f.length;for(let p=0;p<h;p++)l.push(sn(f[p],{structs:a}));c={components:l}}else if(s.type in a)u="tuple",c={components:a[s.type]};else if(Dp.test(s.type))u=`${s.type}256`;else if(u=s.type,t?.type!=="struct"&&!_u(u))throw new Sp({type:u});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new $p({param:e,type:t?.type,modifier:s.modifier});if(ko.has(s.modifier)&&!Gp(u,!!s.array))throw new Cp({param:e,type:t?.type,modifier:s.modifier})}const d={type:`${u}${s.array??""}`,...o,...i,...c};return Zs.set(n,d),d}function Ne(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?Ne(a,[...t,n.trim()]):Ne(a,t,`${n}${i}`,r);case"(":return Ne(a,t,`${n}${i}`,r+1);case")":return Ne(a,t,`${n}${i}`,r-1);default:return Ne(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Rp({current:n,depth:r});return t.push(n.trim()),t}function _u(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Cu.test(e)||Bu.test(e)}const qp=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Hp(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Cu.test(e)||Bu.test(e)||qp.test(e)}function Gp(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ju(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Fi(a))continue;const u=pp(a);if(!u)throw new Gn({signature:a,type:"struct"});const c=u.properties.split(";"),d=[],f=c.length;for(let l=0;l<f;l++){const p=c[l].trim();if(!p)continue;const m=sn(p,{type:"struct"});d.push(m)}if(!d.length)throw new Tp({signature:a});t[u.name]=d}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,u]=s[i];r[a]=zu(u,t)}return r}const Vp=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function zu(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Ou.test(i.type))r.push(i);else{const u=pt(Vp,i.type);if(!u?.type)throw new Bp({abiParameter:i});const{array:c,type:d}=u;if(d in t){if(n.has(d))throw new kp({type:d});r.push({...i,type:`tuple${c??""}`,components:zu(t[d]??[],t,new Set([...n,d]))})}else if(_u(d))r.push(i);else throw new Pp({type:d})}}return r}function Lu(e){const t=ju(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Fi(o)||n.push(Ro(o,t))}return n}function ka(e){let t;if(typeof e=="string")t=Ro(e);else{const n=ju(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Fi(o)){t=Ro(o,n);break}}}if(!t)throw new Ep({signature:e});return t}function Wp(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new B("Unable to normalize signature.");return s}const Kp=e=>{const t=typeof e=="string"?e:cs(e);return Wp(t)};function Uu(e){return ip(Kp(e))}const $s=Uu,jr=e=>zn(Uu(e),0,4);function fn(e){const{abi:t,args:n=[],name:r}=e,s=_e(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?jr(a)===r:a.type==="event"?$s(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,d)=>{const f="inputs"in a&&a.inputs[d];return f?Fo(c,f):!1})){if(i&&"inputs"in i&&i.inputs){const c=Du(a.inputs,i.inputs,n);if(c)throw new rl({abiItem:a,type:c[0]},{abiItem:i,type:c[1]})}i=a}}return i||o[0]}function Fo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return xe(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Fo(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Fo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Du(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Du(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?xe(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?xe(n[r],{strict:!1}):!1)return i}}const Js="/docs/contract/decodeFunctionResult";function ln(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=fn({abi:t,args:n,name:r});if(!a)throw new _n(r,{docsPath:Js});o=a}if(o.type!=="function")throw new _n(void 0,{docsPath:Js});if(!o.outputs)throw new Lc(o.name,{docsPath:Js});const i=_r(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Ra="/docs/contract/encodeFunctionData";function Qp(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=fn({abi:t,args:n,name:r});if(!o)throw new _n(r,{docsPath:Ra});s=o}if(s.type!=="function")throw new _n(void 0,{docsPath:Ra});return{abi:[s],functionName:jr(ze(s))}}function Ue(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Qp(e),s=n[0],o=r,i="inputs"in s&&s.inputs?ht(s.inputs,t??[]):void 0;return _t([o,i??"0x"])}function Vn({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new yo({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new yo({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const qu={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Hu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Zp={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Gu(e){const{abi:t,data:n}=e,r=zn(n,0,4);if(r==="0x")throw new Or;const o=[...t||[],Hu,Zp].find(i=>i.type==="error"&&r===jr(ze(i)));if(!o)throw new jc(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?_r(o.inputs,zn(n,4)):void 0,errorName:o.name}}function Vu({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ee(t[o]):t[o]}`).join(", ")})`}class Wu extends B{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:d,to:f,value:l,stateOverride:h}){const p=n?ce(n):void 0;let m=Fr({from:p?.address,to:f,value:typeof l<"u"&&`${Si(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${we(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${we(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${we(c)} gwei`,nonce:d});h&&(m+=`
${Ch(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ku extends B{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const u=fn({abi:n,args:r,name:i}),c=u?Vu({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=u?ze(u,{includeName:!0}):void 0,f=Fr({address:s&&lh(s),function:d,args:c&&c!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Mo extends B{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,u;if(n&&n!=="0x")try{i=Gu({abi:t,data:n});const{abiItem:d,errorName:f,args:l}=i;if(f==="Error")u=l[0];else if(f==="Panic"){const[h]=l;u=qu[h]}else{const h=d?ze(d,{includeName:!0}):void 0,p=d&&l?Vu({abiItem:d,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(d){o=d}else s&&(u=s);let c;o instanceof jc&&(c=o.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(u&&u!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,u||c].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=u,this.signature=c}}class Jp extends B{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Yp extends B{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Cs extends B{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function Mi(e,t){if(!(e instanceof B))return!1;const n=e.walk(r=>r instanceof Mo);return n instanceof Mo?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===qu[50]):!1}function Xp(e){const{abi:t,data:n}=e,r=zn(n,0,4),s=t.find(o=>o.type==="function"&&r===jr(ze(o)));if(!s)throw new nl(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?_r(s.inputs,zn(n,4)):void 0}}const Ys="/docs/contract/encodeErrorResult";function Fa(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const u=fn({abi:t,args:r,name:n});if(!u)throw new ua(n,{docsPath:Ys});s=u}if(s.type!=="error")throw new ua(void 0,{docsPath:Ys});const o=ze(s),i=jr(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new el(s.name,{docsPath:Ys});a=ht(s.inputs,r)}return _t([i,a])}const Xs="/docs/contract/encodeFunctionResult";function e0(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=fn({abi:t,name:n});if(!i)throw new _n(n,{docsPath:Xs});s=i}if(s.type!=="function")throw new _n(void 0,{docsPath:Xs});if(!s.outputs)throw new Lc(s.name,{docsPath:Xs});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Dc(r)})();return ht(s.outputs,o)}const Bs="x-batch-gateway:true";async function Qu(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Xp({abi:Co,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Bs)?await Qu({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(u){s[a]=!0,o[a]=t0(u)}})),e0({abi:Co,functionName:"query",result:[s,o]})}function t0(e){return e.name==="HttpRequestError"&&e.status?Fa({abi:Co,errorName:"HttpError",args:[e.status,e.shortMessage]}):Fa({abi:[Hu],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Zu(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return _e(t)?t:null}function ts(e){let t=new Uint8Array(32).fill(0);if(!e)return re(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Zu(n[r]),o=s?qn(s):se(Jt(n[r]),"bytes");t=se(Le([t,o]),"bytes")}return re(t)}function n0(e){return`[${e.slice(2)}]`}function r0(e){const t=new Uint8Array(32).fill(0);return e?Zu(e)||se(Jt(e)):re(t)}function Os(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Jt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Jt(s[o]);i.byteLength>255&&(i=Jt(n0(r0(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const s0=3;function on(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Cs?e:e instanceof B?e.walk(p=>"data"in p)||e.walk():{},{code:u,data:c,details:d,message:f,shortMessage:l}=a,h=e instanceof Or?new Jp({functionName:o}):[s0,tn.code].includes(u)&&(c||d||f||l)?new Mo({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:a instanceof Ii?d:l??f}):e;return new Ku(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ni=BigInt(0),No=BigInt(1);function Hw(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Gw(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Ju(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ni:BigInt("0x"+e)}function Vw(e){return Ju(en(e))}function Ww(e){return Te(e),Ju(en(Uint8Array.from(e).reverse()))}function o0(e,t){return kr(e.toString(16).padStart(t*2,"0"))}function Kw(e,t){return o0(e,t).reverse()}function Qw(e,t,n){let r;if(typeof t=="string")try{r=kr(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(ws(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");return r.length,r}const eo=e=>typeof e=="bigint"&&Ni<=e;function i0(e,t,n){return eo(e)&&eo(t)&&eo(n)&&t<=e&&e<n}function Zw(e,t,n,r){if(!i0(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Jw(e){let t;for(t=0;e>Ni;e>>=No,t+=1);return t}const Yw=e=>(No<<BigInt(e))-No;function Xw(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let o=r(e),i=r(e),a=0;const u=()=>{o.fill(1),i.fill(0),a=0},c=(...h)=>n(i,o,...h),d=(h=r(0))=>{i=c(s(0),h),o=c(),h.length!==0&&(i=c(s(1),h),o=c())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){o=c();const m=o.slice();p.push(m),h+=o.length}return Tt(...p)};return(h,p)=>{u(),d(h);let m;for(;!(m=p(f()));)d();return u(),m}}function e1(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,o,i){const a=e[s];if(i&&a===void 0)return;const u=typeof a;if(u!==o||a===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${u}`)}Object.entries(t).forEach(([s,o])=>r(s,o,!1)),Object.entries(n).forEach(([s,o])=>r(s,o,!0))}function t1(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const a0="0.1.1";function c0(){return a0}let Y=class _o extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof _o){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof _o&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${c0()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Yu(this,t)}};function Yu(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Yu(e.cause,t):t?null:e}const u0="#__bigint";function d0(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+u0:s,n)}function f0(e,t){if(Na(e)>t)throw new x0({givenSize:Na(e),maxSize:t})}const tt={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ma(e){if(e>=tt.zero&&e<=tt.nine)return e-tt.zero;if(e>=tt.A&&e<=tt.F)return e-(tt.A-10);if(e>=tt.a&&e<=tt.f)return e-(tt.a-10)}function l0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new E0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function _i(e,t){if(ke(e)>t)throw new $0({givenSize:ke(e),maxSize:t})}function h0(e,t){if(typeof t=="number"&&t>0&&t>ke(e)-1)throw new rd({offset:t,position:"start",size:ke(e)})}function p0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ke(e)!==n-t)throw new rd({offset:n,position:"end",size:ke(e)})}function Xu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new C0({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const m0=new TextEncoder;function b0(e){return e instanceof Uint8Array?e:typeof e=="string"?g0(e):y0(e)}function y0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function g0(e,t={}){const{size:n}=t;let r=e;n&&(_i(e,n),r=cn(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,u=0;a<o;a++){const c=Ma(s.charCodeAt(u++)),d=Ma(s.charCodeAt(u++));if(c===void 0||d===void 0)throw new Y(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);i[a]=c*16+d}return i}function w0(e,t={}){const{size:n}=t,r=m0.encode(e);return typeof n=="number"?(f0(r,n),v0(r,n)):r}function v0(e,t){return l0(e,{dir:"right",size:t})}function Na(e){return e.length}let x0=class extends Y{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},E0=class extends Y{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const P0=new TextEncoder,S0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function I0(e,t={}){const{strict:n=!1}=t;if(!e)throw new _a(e);if(typeof e!="string")throw new _a(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ja(e);if(!e.startsWith("0x"))throw new ja(e)}function Ze(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ed(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(_i(n,t.size),an(n,t.size)):n}function td(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=S0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(_i(r,t.size),cn(r,t.size)):r}function pe(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new nd({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?an(u,r):u}function ji(e,t={}){return td(P0.encode(e),t)}function an(e,t){return Xu(e,{dir:"left",size:t})}function cn(e,t){return Xu(e,{dir:"right",size:t})}function zi(e,t,n,r={}){const{strict:s}=r;h0(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&p0(o,t,n),o}function ke(e){return Math.ceil((e.length-2)/2)}function A0(e,t={}){const{strict:n=!1}=t;try{return I0(e,{strict:n}),!0}catch{return!1}}class nd extends Y{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class _a extends Y{constructor(t){super(`Value \`${typeof t=="object"?d0(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ja extends Y{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class $0 extends Y{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class rd extends Y{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class C0 extends Y{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function B0(e){return{address:e.address,amount:pe(e.amount),index:pe(e.index),validatorIndex:pe(e.validatorIndex)}}function sd(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:pe(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:pe(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:pe(e.gasLimit)},...typeof e.number=="bigint"&&{number:pe(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:pe(e.prevRandao)},...typeof e.time=="bigint"&&{time:pe(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(B0)}}}const O0="0x82ad56cb",od="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",T0="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",k0="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function id(e,{docsPath:t,...n}){const r=(()=>{const s=Ss(e,n);return s instanceof Rr?e:s})();return new Wu(r,{docsPath:t,...n})}function Li(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const to=new Map;function ad({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=u();i();const f=d.map(({args:l})=>l);f.length!==0&&e(f).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<d.length;h++){const{resolve:p}=d[h];p?.([l[h],l])}}).catch(l=>{for(let h=0;h<d.length;h++){const{reject:p}=d[h];p?.(l)}})},i=()=>to.delete(t),a=()=>u().map(({args:d})=>d),u=()=>to.get(t)||[],c=d=>to.set(t,[...u(),d]);return{flush:i,async schedule(d){const{promise:f,resolve:l,reject:h}=Li();return n?.([...a(),d])&&o(),u().length>0?(c({args:d,resolve:l,reject:h}),f):(c({args:d,resolve:l,reject:h}),setTimeout(o,r),f)}}}async function Wn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i="latest",accessList:a,blobs:u,blockOverrides:c,code:d,data:f,factory:l,factoryData:h,gas:p,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:x,to:O,value:w,stateOverride:S,...I}=t,C=n?ce(n):void 0;if(d&&(l||h))throw new B("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&O)throw new B("Cannot provide both `code` & `to` as parameters.");const g=d&&f,A=l&&h&&O&&f,P=g||A,$=g?M0({code:d,data:f}):A?N0({data:f,factory:l,factoryData:h,to:O}):f;try{Hn(t);const R=(typeof o=="bigint"?_(o):void 0)||i,F=c?sd(c):void 0,M=Ci(S),j=e.chain?.formatters?.transactionRequest?.format,D=(j||Nr)({...Is(I,{format:j}),from:C?.address,accessList:a,authorizationList:r,blobs:u,data:$,gas:p,gasPrice:m,maxFeePerBlobGas:b,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:x,to:P?void 0:O,value:w});if(s&&R0({request:D})&&!M&&!F)try{return await F0(e,{...D,blockNumber:o,blockTag:i})}catch(K){if(!(K instanceof au)&&!(K instanceof yo))throw K}const H=(()=>{const K=[D,R];return M&&F?[...K,M,F]:M?[...K,M]:F?[...K,{},F]:K})(),U=await e.request({method:"eth_call",params:H});return U==="0x"?{data:void 0}:{data:U}}catch(k){const R=_0(k),{offchainLookup:F,offchainLookupSignature:M}=await tu(async()=>{const{offchainLookup:j,offchainLookupSignature:T}=await Promise.resolve().then(()=>rb);return{offchainLookup:j,offchainLookupSignature:T}},void 0,import.meta.url);if(e.ccipRead!==!1&&R?.slice(0,10)===M&&O)return{data:await F(e,{data:R,to:O})};throw P&&R?.slice(0,10)==="0x101bb98d"?new Yp({factory:l}):id(k,{...t,account:C,chain:e.chain})}}function R0({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(O0)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function F0(e,t){const{batchSize:n=1024,wait:r=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:i,multicallAddress:a,to:u}=t;let c=a;if(!c){if(!e.chain)throw new au;c=Vn({blockNumber:s,chain:e.chain,contract:"multicall3"})}const f=(typeof s=="bigint"?_(s):void 0)||o,{schedule:l}=ad({id:`${e.uid}.${f}`,wait:r,shouldSplitBatch(m){return m.reduce((v,{data:E})=>v+(E.length-2),0)>n*2},fn:async m=>{const b=m.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),v=Ue({abi:$o,args:[b],functionName:"aggregate3"}),E=await e.request({method:"eth_call",params:[{data:v,to:c},f]});return ln({abi:$o,args:[b],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:h,success:p}]=await l({data:i,to:u});if(!p)throw new Cs({data:h});return h==="0x"?{data:void 0}:{data:h}}function M0(e){const{code:t,data:n}=e;return xi({abi:Lu(["constructor(bytes, bytes)"]),bytecode:od,args:[t,n]})}function N0(e){const{data:t,factory:n,factoryData:r,to:s}=e;return xi({abi:Lu(["constructor(address, bytes, address, bytes)"]),bytecode:T0,args:[s,t,n,r]})}function _0(e){if(!(e instanceof B))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function Je(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=Ue({abi:n,args:s,functionName:o});try{const{data:u}=await L(e,Wn,"call")({...i,data:a,to:r});return ln({abi:n,args:s,functionName:o,data:u||"0x"})}catch(u){throw on(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function j0(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:u}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return Vn({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),d=u?.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{const f=Ue({abi:Ca,functionName:"addr",...s!=null?{args:[ts(o),BigInt(s)]}:{args:[ts(o)]}}),l={address:c,abi:$u,functionName:"resolve",args:[ut(Os(o)),f,i??[Bs]],blockNumber:n,blockTag:r},p=await L(e,Je,"readContract")(l);if(p[0]==="0x")return null;const m=ln({abi:Ca,args:s!=null?[ts(o),BigInt(s)]:void 0,functionName:"addr",data:p[0]});return m==="0x"||Qe(m)==="0x00"?null:m}catch(f){if(a)throw f;if(Mi(f,"resolve"))return null;throw f}}class z0 extends B{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Xn extends B{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ui extends B{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class L0 extends B{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const U0=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,D0=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,q0=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,H0=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function G0(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function za(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function cd({uri:e,gatewayUrls:t}){const n=q0.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=za(t?.ipfs,"https://ipfs.io"),s=za(t?.arweave,"https://arweave.net"),o=e.match(U0),{protocol:i,subpath:a,target:u,subtarget:c=""}=o?.groups||{},d=i==="ipns:/"||a==="ipns/",f=i==="ipfs:/"||a==="ipfs/"||D0.test(e);if(e.startsWith("http")&&!d&&!f){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||f)&&u)return{uri:`${r}/${d?"ipns":"ipfs"}/${u}${c}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&u)return{uri:`${s}/${u}${c||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(H0,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Ui({uri:e})}function ud(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new z0({data:e});return e.image||e.image_url||e.image_data}async function V0({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Di({gatewayUrls:e,uri:ud(n)})}catch{throw new Ui({uri:t})}}async function Di({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=cd({uri:t,gatewayUrls:e});if(r||await G0(n))return n;throw new Ui({uri:t})}function W0(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,u]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Xn({reason:"Only EIP-155 supported"});if(!i)throw new Xn({reason:"Chain ID not found"});if(!u)throw new Xn({reason:"Contract address not found"});if(!s)throw new Xn({reason:"Token ID not found"});if(!a)throw new Xn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:u,tokenID:s}}async function K0(e,{nft:t}){if(t.namespace==="erc721")return Je(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Je(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new L0({namespace:t.namespace})}async function Q0(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Z0(e,{gatewayUrls:t,record:n}):Di({uri:n,gatewayUrls:t})}async function Z0(e,{gatewayUrls:t,record:n}){const r=W0(n),s=await K0(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=cd({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(c);return Di({uri:ud(d),gatewayUrls:t})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),V0({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,u)})}async function dd(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:u}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return Vn({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),d=u?.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{const f={address:c,abi:$u,functionName:"resolve",args:[ut(Os(o)),Ue({abi:$a,functionName:"text",args:[ts(o),s]}),i??[Bs]],blockNumber:n,blockTag:r},h=await L(e,Je,"readContract")(f);if(h[0]==="0x")return null;const p=ln({abi:$a,functionName:"text",data:h[0]});return p===""?null:p}catch(f){if(a)throw f;if(Mi(f,"resolve"))return null;throw f}}async function J0(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const u=await L(e,dd,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!u)return null;try{return await Q0(e,{record:u,gatewayUrls:r})}catch{return null}}async function Y0(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Vn({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const u=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:a,abi:Kh,functionName:"reverse",args:[ut(Os(u))],blockNumber:n,blockTag:r},d=L(e,Je,"readContract"),[f,l]=s?await d({...c,args:[...c.args,s]}):await d(c);return t.toLowerCase()!==l.toLowerCase()?null:f}catch(c){if(o)throw c;if(Mi(c,"reverse"))return null;throw c}}async function X0(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Vn({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(c=>s.endsWith(c)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[u]=await L(e,Je,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ut(Os(s))],blockNumber:n,blockTag:r});return u}async function fd(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:h,...p}=t,m=n?ce(n):void 0;try{Hn(t);const v=(typeof r=="bigint"?_(r):void 0)||s,E=e.chain?.formatters?.transactionRequest?.format,O=(E||Nr)({...Is(p,{format:E}),from:m?.address,blobs:o,data:i,gas:a,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:h}),w=await e.request({method:"eth_createAccessList",params:[O,v]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(b){throw id(b,{...t,account:m,chain:e.chain})}}function Ts(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),r=>n[r]||e.request}async function em(e){const t=Ts(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class tm extends B{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const La="/docs/contract/encodeEventTopics";function zr(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=fn({abi:t,name:n});if(!u)throw new da(n,{docsPath:La});s=u}if(s.type!=="event")throw new da(void 0,{docsPath:La});const o=ze(s),i=$s(o);let a=[];if(r&&"inputs"in s){const u=s.inputs?.filter(d=>"indexed"in d&&d.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?u?.map(d=>r[d.name])??[]:[];c.length>0&&(a=u?.map((d,f)=>Array.isArray(c[f])?c[f].map((l,h)=>Ua({param:d,value:c[f][h]})):typeof c[f]<"u"&&c[f]!==null?Ua({param:d,value:c[f]}):null)??[])}return[i,...a]}function Ua({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return se(qn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new tm(e.type);return ht([e],[t])}async function ld(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:u}=t,c=Ts(e,{method:"eth_newFilter"}),d=o?zr({abi:r,args:s,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?_(i):i,toBlock:typeof u=="bigint"?_(u):u,topics:d}]});return{abi:r,args:s,eventName:o,id:f,request:c(f),strict:!!a,type:"event"}}async function hd(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const u=s??(r?[r]:void 0),c=Ts(e,{method:"eth_newFilter"});let d=[];u&&(d=[u.flatMap(h=>zr({abi:[h],eventName:h.name,args:n}))],r&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?_(o):o,toBlock:typeof a=="bigint"?_(a):a,...d.length?{topics:d}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:o,id:f,request:c(f),strict:!!i,toBlock:a,type:"event"}}async function pd(e){const t=Ts(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function nm(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,u=Ue({abi:n,args:s,functionName:o});try{return await L(e,Oi,"estimateGas")({data:`${u}${i?i.replace("0x",""):""}`,to:r,...a})}catch(c){const d=a.account?ce(a.account):void 0;throw on(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d?.address})}}async function rm(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const sm=new Map,om=new Map;function im(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,sm),r=t(e,om);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function am(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=im(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const cm=e=>`blockNumber.${e}`;async function Lr(e,{cacheTime:t=e.cacheTime}={}){const n=await am(()=>e.request({method:"eth_blockNumber"}),{cacheKey:cm(e.uid),cacheTime:t});return BigInt(n)}async function um(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?_(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),je(o)}async function Da(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?_(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Ur(e,t){if(!xe(e,{strict:!1}))throw new dt({address:e});if(!xe(t,{strict:!1}))throw new dt({address:t});return e.toLowerCase()===t.toLowerCase()}const qa="/docs/contract/decodeEventLog";function qi(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new tl({docsPath:qa});const u=t.find(m=>m.type==="event"&&i===$s(ze(m)));if(!(u&&"name"in u)||u.type!=="event")throw new zc(i,{docsPath:qa});const{name:c,inputs:d}=u,f=d?.some(m=>!("name"in m&&m.name)),l=f?[]:{},h=d.map((m,b)=>[m,b]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[b,v]=h[m],E=a[m];if(!E)throw new gs({abiItem:u,param:b});l[f?v:b.name||v]=dm({param:b,value:E})}const p=d.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=_r(p,n);if(m)if(f)for(let b=0;b<d.length;b++)l[b]=l[b]??m.shift();else for(let b=0;b<p.length;b++)l[p[b].name]=m[b]}catch(m){if(o)throw m instanceof Nc||m instanceof ru?new sr({abiItem:u,data:n,params:p,size:J(n)}):m}else if(o)throw new sr({abiItem:u,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(l).length>0?l:void 0}}function dm({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(_r([e],t)||[])[0]}function Hi(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(c=>c.type==="event"&&i.topics[0]===$s(c));if(!a)return null;const u=qi({...i,abi:[a],strict:s});return o&&!o.includes(u.eventName)||!fm({args:u.args,inputs:a.inputs,matchArgs:n})?null:{...u,...i}}catch(a){let u,c;if(a instanceof zc)return null;if(a instanceof sr||a instanceof gs){if(s)return null;u=a.abiItem.name,c=a.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...i,args:c?[]:{},eventName:u}}}).filter(Boolean)}function fm(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Ur(i,a):o.type==="string"||o.type==="bytes"?se(qn(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(c=>s(a,c,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(c=>c.name===o);return a?(Array.isArray(i)?i:[i]).some(c=>s(a,c,t[o])):!1}):!1}function ft(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Gi(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:u}={}){const c=u??!1,d=i??(o?[o]:void 0);let f=[];d&&(f=[d.flatMap(m=>zr({abi:[m],eventName:m.name,args:i?void 0:a}))],o&&(f=f[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?_(r):r,toBlock:typeof s=="bigint"?_(s):s}]});const h=l.map(p=>ft(p));return d?Hi({abi:d,args:a,logs:h,strict:c}):h}async function md(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:u,strict:c}=t,d=i?fn({abi:n,name:i}):void 0,f=d?void 0:n.filter(l=>l.type==="event");return L(e,Gi,"getLogs")({address:r,args:s,blockHash:o,event:d,events:f,fromBlock:a,toBlock:u,strict:c})}class lm extends B{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function hm(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,u,c,d,f]=await L(e,Je,"readContract")({abi:pm,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(u),verifyingContract:c,salt:d},extensions:f,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new lm({address:n}):i}}const pm=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function mm(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function bm(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?_(n):void 0,i=await e.request({method:"eth_feeHistory",params:[_(t),o||r,s]},{dedupe:!!o});return mm(i)}async function ks(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>ft(o));return!("abi"in t)||!t.abi?s:Hi({abi:t.abi,logs:s,strict:n})}async function ym(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>ft(o));return t.abi?Hi({abi:t.abi,logs:s,strict:n}):s}async function gm(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?_(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Rs(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){const i=r||"latest",a=n!==void 0?_(n):void 0;let u=null;if(s?u=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?u=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,_(o)]},{dedupe:!0}):u=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,_(o)]},{dedupe:!!a}),!u)throw new uu({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||hu)(u)}async function wm(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([L(e,Lr,"getBlockNumber")({}),t?L(e,Rs,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}const bd={"0x0":"reverted","0x1":"success"};function vm(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>ft(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?je(e.transactionIndex):null,status:e.status?bd[e.status]:null,type:e.type?lu[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}async function jo(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new du({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||vm)(n)}async function yd(e,t){const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:o,blockTag:i,multicallAddress:a,stateOverride:u}=t,c=t.contracts,d=s??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024);let f=a;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Vn({blockNumber:o,chain:e.chain,contract:"multicall3"})}const l=[[]];let h=0,p=0;for(let v=0;v<c.length;v++){const{abi:E,address:x,args:O,functionName:w}=c[v];try{const S=Ue({abi:E,args:O,functionName:w});p+=(S.length-2)/2,d>0&&p>d&&l[h].length>0&&(h++,p=(S.length-2)/2,l[h]=[]),l[h]=[...l[h],{allowFailure:!0,callData:S,target:x}]}catch(S){const I=on(S,{abi:E,address:x,args:O,docsPath:"/docs/contract/multicall",functionName:w,sender:n});if(!r)throw I;l[h]=[...l[h],{allowFailure:!0,callData:"0x",target:x}]}}const m=await Promise.allSettled(l.map(v=>L(e,Je,"readContract")({abi:$o,account:n,address:f,args:[v],blockNumber:o,blockTag:i,functionName:"aggregate3",stateOverride:u}))),b=[];for(let v=0;v<m.length;v++){const E=m[v];if(E.status==="rejected"){if(!r)throw E.reason;for(let O=0;O<l[v].length;O++)b.push({status:"failure",error:E.reason,result:void 0});continue}const x=E.value;for(let O=0;O<x.length;O++){const{returnData:w,success:S}=x[O],{callData:I}=l[v][O],{abi:C,address:g,functionName:A,args:P}=c[b.length];try{if(I==="0x")throw new Or;if(!S)throw new Cs({data:w});const $=ln({abi:C,args:P,data:w,functionName:A});b.push(r?{result:$,status:"success"}:$)}catch($){const k=on($,{abi:C,address:g,args:P,docsPath:"/docs/contract/multicall",functionName:A});if(!r)throw k;b.push({error:k,result:void 0,status:"failure"})}}}if(b.length!==c.length)throw new B("multicall results mismatch");return b}async function zo(e,t){const{blockNumber:n,blockTag:r="latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const u=[];for(const l of s){const h=l.blockOverrides?sd(l.blockOverrides):void 0,p=l.calls.map(b=>{const v=b,E=v.account?ce(v.account):void 0,x=v.abi?Ue(v):v.data,O={...v,data:v.dataSuffix?Le([x||"0x",v.dataSuffix]):x,from:v.from??E?.address};return Hn(O),Nr(O)}),m=l.stateOverrides?Ci(l.stateOverrides):void 0;u.push({blockOverrides:h,calls:p,stateOverrides:m})}const d=(typeof n=="bigint"?_(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:u,returnFullTransactions:o,traceTransfers:i,validation:a},d]})).map((l,h)=>({...pu(l),calls:l.calls.map((p,m)=>{const{abi:b,args:v,functionName:E,to:x}=s[h].calls[m],O=p.error?.data??p.returnData,w=BigInt(p.gasUsed),S=p.logs?.map(A=>ft(A)),I=p.status==="0x1"?"success":"failure",C=b&&I==="success"&&O!=="0x"?ln({abi:b,data:O,functionName:E}):null,g=(()=>{if(I==="success")return;let A;if(p.error?.data==="0x"?A=new Or:p.error&&(A=new Cs(p.error)),!!A)return on(A,{abi:b??[],address:x??"0x",args:v,functionName:E??"<unknown>"})})();return{data:O,gasUsed:w,logs:S,status:I,...I==="success"?{result:C}:{error:g}}})}))}catch(u){const c=u,d=Ss(c,{});throw d instanceof Rr?c:d}}function gd(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Zc(b0(e));return n==="Bytes"?r:td(r)}class xm extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Em={checksum:new xm(8192)},no=Em.checksum,Pm=/^0x[a-fA-F0-9]{40}$/;function Fs(e,t={}){const{strict:n=!0}=t;if(!Pm.test(e))throw new Ha({address:e,cause:new Im});if(n){if(e.toLowerCase()===e)return;if(Sm(e)!==e)throw new Ha({address:e,cause:new Am})}}function Sm(e){if(no.has(e))return no.get(e);Fs(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=gd(w0(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return no.set(e,s),s}function Lo(e,t={}){const{strict:n=!0}=t??{};try{return Fs(e,{strict:n}),!0}catch{return!1}}class Ha extends Y{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Im extends Y{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Am extends Y{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Uo(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new Y("Unable to normalize signature.");return s}function Do(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Lo(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Do(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Do(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function wd(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return wd(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Lo(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Lo(n[r],{strict:!1}):!1)return i}}function vd(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?ka(e):e;return{...r,...n?{hash:En(r)}:{}}}function $m(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=A0(t,{strict:!1}),i=e.filter(c=>o?c.type==="function"||c.type==="error"?xd(c)===zi(t,0,4):c.type==="event"?En(c)===t:!1:"name"in c&&c.name===t);if(i.length===0)throw new qo({name:t});if(i.length===1)return{...i[0],...s?{hash:En(i[0])}:{}};let a;for(const c of i){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...s?{hash:En(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((f,l)=>{const h="inputs"in c&&c.inputs[l];return h?Do(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=wd(c.inputs,a.inputs,r);if(f)throw new Bm({abiItem:c,type:f[0]},{abiItem:a,type:f[1]})}a=c}}const u=(()=>{if(a)return a;const[c,...d]=i;return{...c,overloads:d}})();if(!u)throw new qo({name:t});return{...u,...s?{hash:En(u)}:{}}}function xd(e){return zi(En(e),0,4)}function Cm(e){const t=typeof e=="string"?e:cs(e);return Uo(t)}function En(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:gd(ji(Cm(e)))}class Bm extends Y{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Uo(cs(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Uo(cs(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class qo extends Y{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const Om=/^(.*)\[([0-9]*)\]$/,Tm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ed=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function km({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Vi({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Vi({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Lm(r.type);if(s){const[o,i]=s;return Fm(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return zm(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Rm(n,{checksum:e});if(r.type==="bool")return Nm(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Ed.exec(r.type)??[];return _m(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Mm(n,{type:r.type});if(r.type==="string")return jm(n);throw new Ad(r.type)}function Wi(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ke(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(pe(t+s,{size:32})),r.push(a),s+=ke(a)):n.push(a)}return Ze(...n,...r)}function Rm(e,t){const{checksum:n=!1}=t;return Fs(e,{strict:n}),{dynamic:!1,encoded:an(e.toLowerCase())}}function Fm(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Dm(e);if(!o&&e.length!==r)throw new Um({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let u=0;u<e.length;u++){const c=Vi({checksumAddress:n,parameter:s,value:e[u]});c.dynamic&&(i=!0),a.push(c)}if(o||i){const u=Wi(a);if(o){const c=pe(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ze(c,u):c}}if(i)return{dynamic:!0,encoded:u}}return{dynamic:!1,encoded:Ze(...a.map(({encoded:u})=>u))}}function Mm(e,{type:t}){const[,n]=t.split("bytes"),r=ke(e);if(!n){let s=e;return r%32!==0&&(s=cn(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ze(an(pe(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new Sd({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:cn(e)}}function Nm(e){if(typeof e!="boolean")throw new Y(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:an(ed(e))}}function _m(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new nd({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:pe(e,{size:32,signed:t})}}function jm(e){const t=ji(e),n=Math.ceil(ke(t)/32),r=[];for(let s=0;s<n;s++)r.push(cn(zi(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ze(cn(pe(ke(t),{size:32})),...r)}}function zm(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],u=Array.isArray(e)?i:a.name,c=Vi({checksumAddress:n,parameter:a,value:e[u]});o.push(c),c.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Wi(o):Ze(...o.map(({encoded:i})=>i))}}function Lm(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Pd(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Id({expectedLength:e.length,givenLength:t.length});const s=km({checksumAddress:r,parameters:e,values:t}),o=Wi(s);return o.length===0?"0x":o}function Ho(e,t){if(e.length!==t.length)throw new Id({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Ho.encode(s,o))}return Ze(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const u=r;return Fs(u),an(u.toLowerCase(),s?32:0)}if(n==="string")return ji(r);if(n==="bytes")return r;if(n==="bool")return an(ed(r),s?32:1);const o=n.match(Ed);if(o){const[u,c,d="256"]=o,f=Number.parseInt(d)/8;return pe(r,{size:s?32:f,signed:c==="int"})}const i=n.match(Tm);if(i){const[u,c]=i;if(Number.parseInt(c)!==(r.length-2)/2)throw new Sd({expectedSize:Number.parseInt(c),value:r});return cn(r,s?32:0)}const a=n.match(Om);if(a&&Array.isArray(r)){const[u,c]=a,d=[];for(let f=0;f<r.length;f++)d.push(t(c,r[f],!0));return d.length===0?"0x":Ze(...d)}throw new Ad(n)}e.encode=t})(Ho||(Ho={}));class Um extends Y{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Sd extends Y{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ke(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Id extends Y{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Dm extends Y{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Ad extends Y{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function qm(e,t){const{bytecode:n,args:r}=t;return Ze(n,e.inputs?.length&&r?.length?Pd(e.inputs,r):"0x")}function Hm(e){return vd(e)}function Gm(e,...t){const{overloads:n}=e,r=n?Vm([e,...n],e.name,{args:t[0]}):e,s=Wm(r),o=t.length>0?Pd(r.inputs,t[0]):void 0;return o?Ze(s,o):s}function gn(e,t={}){return vd(e,t)}function Vm(e,t,n){const r=$m(e,t,n);if(r.type!=="function")throw new qo({name:t,type:"function"});return r}function Wm(e){return xd(e)}const Km="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",He="0x0000000000000000000000000000000000000000",Vr=new Tr(8192);function Qm(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Vr.get(n))return Vr.get(n);const r=e().finally(()=>Vr.delete(n));return Vr.set(n,r),r}async function Go(e){return new Promise(t=>setTimeout(t,e))}function us(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const u=async({error:c})=>{const d=typeof t=="function"?t({count:a,error:c}):t;d&&await Go(d),i({count:a+1})};try{const c=await e();s(c)}catch(c){if(a<n&&await r({count:a,error:c}))return u({error:c});o(c)}};i()})}function Zm(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:u}={...t,...r},{method:c}=n;if(o?.exclude?.includes(c))throw new zt(new Error("method not supported"),{method:c});if(o?.include&&!o.include.includes(c))throw new zt(new Error("method not supported"),{method:c});const d=s?Nn(`${u}.${ee(n)}`):void 0;return Qm(()=>us(async()=>{try{return await e(n)}catch(f){const l=f;switch(l.code){case ir.code:throw new ir(l);case ar.code:throw new ar(l);case cr.code:throw new cr(l,{method:n.method});case ur.code:throw new ur(l);case tn.code:throw new tn(l);case nn.code:throw new nn(l);case dr.code:throw new dr(l);case Rt.code:throw new Rt(l);case fr.code:throw new fr(l);case zt.code:throw new zt(l,{method:n.method});case Ln.code:throw new Ln(l);case lr.code:throw new lr(l);case le.code:throw new le(l);case hr.code:throw new hr(l);case pr.code:throw new pr(l);case mr.code:throw new mr(l);case br.code:throw new br(l);case rn.code:throw new rn(l);case yr.code:throw new yr(l);case gr.code:throw new gr(l);case wr.code:throw new wr(l);case vr.code:throw new vr(l);case xr.code:throw new xr(l);case Er.code:throw new Er(l);case Pr.code:throw new Pr(l);case 5e3:throw new le(l);default:throw f instanceof B?f:new ph(l)}}},{delay:({count:f,error:l})=>{if(l&&l instanceof Yt){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<f)*i},retryCount:a,shouldRetry:({error:f})=>Jm(f)}),{enabled:s,id:d})}}function Jm(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Ln.code||e.code===tn.code:e instanceof Yt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class Ym extends B{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Mr(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Xm extends B{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Mr(n)}`,`Response: ${ee(t)}`],name:"OffchainLookupResponseMalformedError"})}}class eb extends B{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const tb="0x556f1830",$d={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function nb(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Gu({data:r,abi:[$d]}),[i,a,u,c,d]=o,{ccipRead:f}=e,l=f&&typeof f?.request=="function"?f.request:Cd;try{if(!Ur(s,i))throw new eb({sender:i,to:s});const h=a.includes(Bs)?await Qu({data:u,ccipRequest:l}):await l({data:u,sender:i,urls:a}),{data:p}=await Wn(e,{blockNumber:t,blockTag:n,data:Le([c,ht([{type:"bytes"},{type:"bytes"}],[h,d])]),to:s});return p}catch(h){throw new Ym({callbackSelector:c,cause:h,data:r,extraData:d,sender:i,urls:a})}}async function Cd({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,u=i==="POST"?{"Content-Type":"application/json"}:{};try{const c=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:u,method:i});let d;if(c.headers.get("Content-Type")?.startsWith("application/json")?d=(await c.json()).data:d=await c.text(),!c.ok){r=new Yt({body:a,details:d?.error?ee(d.error):c.statusText,headers:c.headers,status:c.status,url:o});continue}if(!_e(d)){r=new Xm({result:d,url:o});continue}return d}catch(c){r=new Yt({body:a,details:c.message,url:o})}}throw r}const rb=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Cd,offchainLookup:nb,offchainLookupAbiItem:$d,offchainLookupSignature:tb},Symbol.toStringTag,{value:"Module"}));function s1(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Bd(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function sb(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ga=sb();function ob(e,t={}){return{async request(n){const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:c,signal:d}=a;try{const f=await Bd(async({signal:h})=>{const p={...a,body:Array.isArray(r)?ee(r.map(E=>({jsonrpc:"2.0",id:E.id??Ga.take(),...E}))):ee({jsonrpc:"2.0",id:r.id??Ga.take(),...r}),headers:{"Content-Type":"application/json",...u},method:c||"POST",signal:d||(i>0?h:null)},m=new Request(e,p),b=await s?.(m,p)??{...p,url:e};return await fetch(b.url??e,b)},{errorInstance:new xa({body:r,url:e}),timeout:i,signal:!0});o&&await o(f);let l;if(f.headers.get("Content-Type")?.startsWith("application/json"))l=await f.json();else{l=await f.text();try{l=JSON.parse(l||"{}")}catch(h){if(f.ok)throw h;l={error:l}}}if(!f.ok)throw new Yt({body:r,details:ee(l.error)||f.statusText,headers:f.headers,status:f.status,url:e});return l}catch(f){throw f instanceof Yt||f instanceof xa?f:new Yt({body:r,cause:f,url:e})}}}}class ib extends B{constructor({domain:t}){super(`Invalid domain "${ee(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class ab extends B{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cb extends B{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function ub(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:pb({domain:t}),...e.types};hb({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(db({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Od({data:n,primaryType:r,types:s})),se(Le(o))}function db({domain:e,types:t}){return Od({data:e,primaryType:"EIP712Domain",types:t})}function Od({data:e,primaryType:t,types:n}){const r=Td({data:e,primaryType:t,types:n});return se(r)}function Td({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[fb({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Rd({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return ht(r,s)}function fb({primaryType:e,types:t}){const n=ut(lb({primaryType:e,types:t}));return se(n)}function lb({primaryType:e,types:t}){let n="";const r=kd({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function kd({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])kd({primaryType:o.type,types:t},n);return n}function Rd({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},se(Td({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},se(r)];if(n==="string")return[{type:"bytes32"},se(ut(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Rd({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},se(ht(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function hb(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const u of i){const{name:c,type:d}=u,f=a[c],l=d.match(yi);if(l&&(typeof f=="number"||typeof f=="bigint")){const[m,b,v]=l;_(f,{signed:b==="int",size:Number.parseInt(v)/8})}if(d==="address"&&typeof f=="string"&&!xe(f))throw new dt({address:f});const h=d.match(eu);if(h){const[m,b]=h;if(b&&J(f)!==Number.parseInt(b))throw new Uc({expectedSize:Number.parseInt(b),givenSize:J(f)})}const p=s[d];p&&(mb(d),o(p,f))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new ib({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new ab({primaryType:r,types:s})}function pb({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function mb(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new cb({type:e})}function o1(e,t){if(e.length!==t.length)throw new _c({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Fd(s,o))}return _t(n)}function Fd(e,t,n=!1){if(e==="address"){const i=t;if(!xe(i))throw new dt({address:i});return it(i.toLowerCase(),{size:n?32:null})}if(e==="string")return Nn(t);if(e==="bytes")return t;if(e==="bool")return it(pi(t),{size:n?32:1});const r=e.match(yi);if(r){const[i,a,u="256"]=r,c=Number.parseInt(u)/8;return _(t,{size:n?32:c,signed:a==="int"})}const s=e.match(eu);if(s){const[i,a]=s;if(Number.parseInt(a)!==(t.length-2)/2)throw new Uc({expectedSize:Number.parseInt(a),givenSize:(t.length-2)/2});return it(t,{dir:"right",size:n?32:null})}const o=e.match(jl);if(o&&Array.isArray(t)){const[i,a]=o,u=[];for(let c=0;c<t.length;c++)u.push(Fd(a,t[c],!0));return u.length===0?"0x":_t(u)}throw new al(e)}const bb=`Ethereum Signed Message:
`;function yb(e){const t=typeof e=="string"?Nn(e):typeof e.raw=="string"?e.raw:re(e.raw),n=Nn(`${bb}${J(t)}`);return Le([n,t])}function Md(e,t){return se(yb(e),t)}const Nd="0x6492649264926492649264926492649264926492649264926492649264926492";function gb(e){return os(e,-32)===Nd}function wb(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=_t([ht([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Nd]);return s==="hex"?o:Be(o)}class vb extends B{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function xb(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new vb({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[o,i,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],u=Math.round(+`${i}.${a}`);u>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${u}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function i1(e,t="wei"){return xb(e,cu[t])}function a1(e){const{source:t}=e,n=new Map,r=new Tr(8192),s=new Map,o=({address:i,chainId:a})=>`${i}.${a}`;return{async consume({address:i,chainId:a,client:u}){const c=o({address:i,chainId:a}),d=this.get({address:i,chainId:a,client:u});this.increment({address:i,chainId:a});const f=await d;return await t.set({address:i,chainId:a},f),r.set(c,f),f},async increment({address:i,chainId:a}){const u=o({address:i,chainId:a}),c=n.get(u)??0;n.set(u,c+1)},async get({address:i,chainId:a,client:u}){const c=o({address:i,chainId:a});let d=s.get(c);return d||(d=(async()=>{try{const l=await t.get({address:i,chainId:a,client:u}),h=r.get(c)??0;return h>0&&l<=h?h+1:(r.delete(c),l)}finally{this.reset({address:i,chainId:a})}})(),s.set(c,d)),(n.get(c)??0)+await d},reset({address:i,chainId:a}){const u=o({address:i,chainId:a});n.delete(u),s.delete(u)}}}const Eb="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Pb(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:u}=t,c=t.account?ce(t.account):void 0;if(i&&!c)throw new B("`account` is required when `traceAssetChanges` is true");const d=c?qm(Hm("constructor(bytes, bytes)"),{bytecode:od,args:[Eb,Gm(gn("function getBalance(address)"),[c.address])]}):void 0,f=i?await Promise.all(t.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:D}=await fd(e,{account:c.address,...T,data:T.abi?Ue(T):T.data});return D.map(({address:H,storageKeys:U})=>U.length>0?H:null)})).then(T=>T.flat().filter(Boolean)):[],l=await zo(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:o},{calls:f.map((T,D)=>({abi:[gn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:T,from:He,nonce:D})),stateOverrides:[{address:He,nonce:0}]}]:[],{calls:[...s,{}].map(T=>({...T,from:c?.address})),stateOverrides:o},...i?[{calls:[{data:d}]},{calls:f.map((T,D)=>({abi:[gn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:T,from:He,nonce:D})),stateOverrides:[{address:He,nonce:0}]},{calls:f.map((T,D)=>({to:T,abi:[gn("function decimals() returns (uint256)")],functionName:"decimals",from:He,nonce:D})),stateOverrides:[{address:He,nonce:0}]},{calls:f.map((T,D)=>({to:T,abi:[gn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:He,nonce:D})),stateOverrides:[{address:He,nonce:0}]},{calls:f.map((T,D)=>({to:T,abi:[gn("function symbol() returns (string)")],functionName:"symbol",from:He,nonce:D})),stateOverrides:[{address:He,nonce:0}]}]:[]],traceTransfers:a,validation:u}),h=i?l[2]:l[0],[p,m,,b,v,E,x,O]=i?l:[],{calls:w,...S}=h,I=w.slice(0,-1)??[],C=p?.calls??[],g=m?.calls??[],A=[...C,...g].map(T=>T.status==="success"?Oe(T.data):null),P=b?.calls??[],$=v?.calls??[],k=[...P,...$].map(T=>T.status==="success"?Oe(T.data):null),R=(E?.calls??[]).map(T=>T.status==="success"?T.result:null),F=(O?.calls??[]).map(T=>T.status==="success"?T.result:null),M=(x?.calls??[]).map(T=>T.status==="success"?T.result:null),j=[];for(const[T,D]of k.entries()){const H=A[T];if(typeof D!="bigint"||typeof H!="bigint")continue;const U=R[T-1],K=F[T-1],X=M[T-1],te=T===0?{address:Km,decimals:18,symbol:"ETH"}:{address:f[T-1],decimals:X||U?Number(U??1):void 0,symbol:K??void 0};j.some(Q=>Q.token.address===te.address)||j.push({token:te,value:{pre:H,post:D,diff:D-H}})}return{assetChanges:j,block:S,results:I}}const ro=new Map,Va=new Map;let Sb=0;function lt(e,t,n){const r=++Sb,s=()=>ro.get(e)||[],o=()=>{const d=s();ro.set(e,d.filter(f=>f.id!==r))},i=()=>{const d=s();if(!d.some(l=>l.id===r))return;const f=Va.get(e);if(d.length===1&&f){const l=f();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(ro.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const u={};for(const d in t)u[d]=(...f)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[d]?.(...f)};const c=n(u);return typeof c=="function"&&Va.set(e,c),i}function Kn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const u=await n?.(a)??r;await Go(u);const c=async()=>{s&&(await e({unpoll:o}),await Go(r),c())};c()})(),o}function Ib(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:u=e.pollingInterval}){const c=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let f;return c?(()=>{const p=ee(["watchBlocks",e.uid,t,n,r,d,u]);return lt(p,{onBlock:s,onError:o},m=>Kn(async()=>{try{const b=await L(e,Ke,"getBlock")({blockTag:t,includeTransactions:d});if(b.number!==null&&f?.number!=null){if(b.number===f.number)return;if(b.number-f.number>1&&n)for(let v=f?.number+1n;v<b.number;v++){const E=await L(e,Ke,"getBlock")({blockNumber:v,includeTransactions:d});m.onBlock(E,f),f=E}}(f?.number==null||t==="pending"&&b?.number==null||b.number!==null&&b.number>f.number)&&(m.onBlock(b,f),f=b)}catch(b){m.onError?.(b)}},{emitOnBegin:r,interval:u}))})():(()=>{let p=!0,m=!0,b=()=>p=!1;return(async()=>{try{r&&L(e,Ke,"getBlock")({blockTag:t,includeTransactions:d}).then(x=>{p&&m&&(s(x,void 0),m=!1)}).catch(o);const v=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],async onData(x){if(!p)return;const O=await L(e,Ke,"getBlock")({blockNumber:x.result?.number,includeTransactions:d}).catch(()=>{});p&&(s(O,f),m=!1,f=O)},onError(x){o?.(x)}});b=E,p||b()}catch(v){o?.(v)}})(),()=>b()})()}function _d(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let u;return a?(()=>{const f=ee(["watchBlockNumber",e.uid,t,n,i]);return lt(f,{onBlockNumber:r,onError:s},l=>Kn(async()=>{try{const h=await L(e,Lr,"getBlockNumber")({cacheTime:0});if(u){if(h===u)return;if(h-u>1&&n)for(let p=u+1n;p<h;p++)l.onBlockNumber(p,u),u=p}(!u||h>u)&&(l.onBlockNumber(h,u),u=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const f=ee(["watchBlockNumber",e.uid,t,n]);return lt(f,{onBlockNumber:r,onError:s},l=>{let h=!0,p=()=>h=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:b}=await m.subscribe({params:["newHeads"],onData(v){if(!h)return;const E=Oe(v.result?.number);l.onBlockNumber(E,u),u=E},onError(v){l.onError?.(v)}});p=b,h||p()}catch(m){s?.(m)}})(),()=>p()})})()}async function Ms(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Ab(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:u,poll:c,pollingInterval:d=e.pollingInterval,strict:f}){const l=typeof c<"u"?c:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return l?(()=>{const b=ee(["watchEvent",t,n,r,e.uid,s,d,i]);return lt(b,{onLogs:u,onError:a},v=>{let E;i!==void 0&&(E=i-1n);let x,O=!1;const w=Kn(async()=>{if(!O){try{x=await L(e,hd,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}O=!0;return}try{let S;if(x)S=await L(e,ks,"getFilterChanges")({filter:x});else{const I=await L(e,Lr,"getBlockNumber")({});E&&E!==I?S=await L(e,Gi,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:E+1n,toBlock:I}):S=[],E=I}if(S.length===0)return;if(r)v.onLogs(S);else for(const I of S)v.onLogs([I])}catch(S){x&&S instanceof nn&&(O=!1),v.onError?.(S)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await L(e,Ms,"uninstallFilter")({filter:x}),w()}})})():(()=>{let b=!0,v=()=>b=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),x=o??(s?[s]:void 0);let O=[];x&&(O=[x.flatMap(I=>zr({abi:[I],eventName:I.name,args:n}))],s&&(O=O[0]));const{unsubscribe:w}=await E.subscribe({params:["logs",{address:t,topics:O}],onData(S){if(!b)return;const I=S.result;try{const{eventName:C,args:g}=qi({abi:x??[],data:I.data,topics:I.topics,strict:h}),A=ft(I,{args:g,eventName:C});u([A])}catch(C){let g,A;if(C instanceof sr||C instanceof gs){if(f)return;g=C.abiItem.name,A=C.abiItem.inputs?.some($=>!("name"in $&&$.name))}const P=ft(I,{args:A?[]:{},eventName:g});u([P])}},onError(S){a?.(S)}});v=w,b||v()}catch(E){a?.(E)}})(),()=>v()})()}function $b(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const c=ee(["watchPendingTransactions",e.uid,t,o]);return lt(c,{onTransactions:r,onError:n},d=>{let f;const l=Kn(async()=>{try{if(!f)try{f=await L(e,pd,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const h=await L(e,ks,"getFilterChanges")({filter:f});if(h.length===0)return;if(t)d.onTransactions(h);else for(const p of h)d.onTransactions([p])}catch(h){d.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await L(e,Ms,"uninstallFilter")({filter:f}),l()}})})():(()=>{let c=!0,d=()=>c=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!c)return;const h=l.result;r([h])},onError(l){n?.(l)}});d=f,c||d()}catch(f){n?.(f)}})(),()=>d()})()}const Cb="0x5792579257925792579257925792579257925792579257925792579257925792",Bb=_(0,{size:32});async function Ob(e,t){async function n(d){if(d.endsWith(Cb.slice(2))){const l=Qe(os(d,-64,-32)),h=os(d,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(b=>Bb.slice(2)!==b?e.request({method:"eth_getTransactionReceipt",params:[`0x${b}`]},{dedupe:!0}):void 0)),m=p.some(b=>b===null)?100:p.every(b=>b?.status==="0x1")?200:p.every(b=>b?.status==="0x0")?500:600;return{atomic:!1,chainId:je(l),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[u,c]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:r,chainId:s?je(s):void 0,receipts:o?.map(d=>({...d,blockNumber:Oe(d.blockNumber),gasUsed:Oe(d.gasUsed),status:bd[d.status]}))??[],statusCode:c,status:u,version:i}}async function c1(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:l})=>l>=200,timeout:o=6e4}=t,i=ee(["waitForCallsStatus",e.uid,n]),{promise:a,resolve:u,reject:c}=Li();let d;const f=lt(i,{resolve:u,reject:c},l=>{const h=Kn(async()=>{const p=m=>{clearTimeout(d),h(),m(),f()};try{const m=await Ob(e,{id:n});if(!s(m))return;p(()=>l.resolve(m))}catch(m){p(()=>l.reject(m))}},{interval:r,emitOnBegin:!0});return h});return d=o?setTimeout(()=>{f(),clearTimeout(d),c(new Tb({id:n}))},o):void 0,await a}class Tb extends B{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function kb(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Rb(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?je(e.nonce):void 0,storageProof:e.storageProof?kb(e.storageProof):void 0}}async function Fb(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?_(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Rb(a)}async function jd(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:i=({count:u})=>~~(1<<u)*200,timeout:a=18e4}){const u=ee(["waitForTransactionReceipt",e.uid,n]);let c,d,f,l=!1,h,p;const{promise:m,resolve:b,reject:v}=Li(),E=a?setTimeout(()=>{p(),h(),v(new fh({hash:n}))},a):void 0;return h=lt(u,{onReplaced:r,resolve:b,reject:v},x=>{p=L(e,_d,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(O){const w=I=>{clearTimeout(E),p(),I(),h()};let S=O;if(!l)try{if(f){if(t>1&&(!f.blockNumber||S-f.blockNumber+1n<t))return;w(()=>x.resolve(f));return}if(c||(l=!0,await us(async()=>{c=await L(e,Rs,"getTransaction")({hash:n}),c.blockNumber&&(S=c.blockNumber)},{delay:i,retryCount:o}),l=!1),f=await L(e,jo,"getTransactionReceipt")({hash:n}),t>1&&(!f.blockNumber||S-f.blockNumber+1n<t))return;w(()=>x.resolve(f))}catch(I){if(I instanceof uu||I instanceof du){if(!c){l=!1;return}try{d=c,l=!0;const C=await us(()=>L(e,Ke,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:P})=>P instanceof fu});l=!1;const g=C.transactions.find(({from:P,nonce:$})=>P===d.from&&$===d.nonce);if(!g||(f=await L(e,jo,"getTransactionReceipt")({hash:g.hash}),t>1&&(!f.blockNumber||S-f.blockNumber+1n<t)))return;let A="replaced";g.to===d.to&&g.value===d.value&&g.input===d.input?A="repriced":g.from===g.to&&g.value===0n&&(A="cancelled"),w(()=>{x.onReplaced?.({reason:A,replacedTransaction:d,transaction:g,transactionReceipt:f}),x.resolve(f)})}catch(C){w(()=>x.reject(C))}}else w(()=>x.reject(I))}}})}),m}async function u1(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Ei({docsPath:"/docs/eip7702/prepareAuthorization"});const o=ce(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:ce(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await L(e,As,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await L(e,Ti,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i?.address&&Ur(i.address,o.address))&&(a.nonce+=1)),a}async function Mb(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,u=a.account?ce(a.account):e.account,c=Ue({abi:n,args:s,functionName:i});try{const{data:d}=await L(e,Wn,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:r,...a,account:u}),f=ln({abi:n,args:s,functionName:i,data:d||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:u}}}catch(d){throw on(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:u?.address})}}class zd extends mi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,vl(t);const r=vs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Mt(o)}update(t){return jn(this),this.iHash.update(t),this}digestInto(t){jn(this),Te(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ld=(e,t,n)=>new zd(e,t).update(n).digest();Ld.create=(e,t)=>new zd(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ki=BigInt(0),Vo=BigInt(1);function ds(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Wr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Ud(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ki:BigInt("0x"+e)}function Ns(e){return Ud(en(e))}function Dd(e){return Te(e),Ud(en(Uint8Array.from(e).reverse()))}function Qi(e,t){return kr(e.toString(16).padStart(t*2,"0"))}function qd(e,t){return Qi(e,t).reverse()}function Ie(e,t,n){let r;if(typeof t=="string")try{r=kr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(ws(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const so=e=>typeof e=="bigint"&&Ki<=e;function Nb(e,t,n){return so(e)&&so(t)&&so(n)&&t<=e&&e<n}function _b(e,t,n,r){if(!Nb(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function jb(e){let t;for(t=0;e>Ki;e>>=Vo,t+=1);return t}const _s=e=>(Vo<<BigInt(e))-Vo;function zb(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let o=r(e),i=r(e),a=0;const u=()=>{o.fill(1),i.fill(0),a=0},c=(...h)=>n(i,o,...h),d=(h=r(0))=>{i=c(s(0),h),o=c(),h.length!==0&&(i=c(s(1),h),o=c())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){o=c();const m=o.slice();p.push(m),h+=o.length}return Tt(...p)};return(h,p)=>{u(),d(h);let m;for(;!(m=p(f()));)d();return u(),m}}function Zi(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,o,i){const a=e[s];if(i&&a===void 0)return;const u=typeof a;if(u!==o||a===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${u}`)}Object.entries(t).forEach(([s,o])=>r(s,o,!1)),Object.entries(n).forEach(([s,o])=>r(s,o,!0))}function Wa(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ge=BigInt(0),me=BigInt(1),Lt=BigInt(2),Lb=BigInt(3),Hd=BigInt(4),Gd=BigInt(5),Vd=BigInt(8);function $e(e,t){const n=e%t;return n>=ge?n:t+n}function Se(e,t,n){let r=e;for(;t-- >ge;)r*=r,r%=n;return r}function Ka(e,t){if(e===ge)throw new Error("invert: expected non-zero number");if(t<=ge)throw new Error("invert: expected positive modulus, got "+t);let n=$e(e,t),r=t,s=ge,o=me;for(;n!==ge;){const a=r/n,u=r%n,c=s-o*a;r=n,n=u,s=o,o=c}if(r!==me)throw new Error("invert: does not exist");return $e(s,t)}function Wd(e,t){const n=(e.ORDER+me)/Hd,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Ub(e,t){const n=(e.ORDER-Gd)/Vd,r=e.mul(t,Lt),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Lt),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Db(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-me,n=0;for(;t%Lt===ge;)t/=Lt,n++;let r=Lt;const s=js(e);for(;Qa(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Wd;let o=s.pow(r,t);const i=(t+me)/Lt;return function(u,c){if(u.is0(c))return c;if(Qa(u,c)!==1)throw new Error("Cannot find square root");let d=n,f=u.mul(u.ONE,o),l=u.pow(c,t),h=u.pow(c,i);for(;!u.eql(l,u.ONE);){if(u.is0(l))return u.ZERO;let p=1,m=u.sqr(l);for(;!u.eql(m,u.ONE);)if(p++,m=u.sqr(m),p===d)throw new Error("Cannot find square root");const b=me<<BigInt(d-p-1),v=u.pow(f,b);d=p,f=u.sqr(v),l=u.mul(l,f),h=u.mul(h,v)}return h}}function qb(e){return e%Hd===Lb?Wd:e%Vd===Gd?Ub:Db(e)}const Hb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Gb(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Hb.reduce((r,s)=>(r[s]="function",r),t);return Zi(e,n),e}function Vb(e,t,n){if(n<ge)throw new Error("invalid exponent, negatives unsupported");if(n===ge)return e.ONE;if(n===me)return t;let r=e.ONE,s=t;for(;n>ge;)n&me&&(r=e.mul(r,s)),s=e.sqr(s),n>>=me;return r}function Kd(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,u)=>e.is0(a)?i:(r[u]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,u)=>e.is0(a)?i:(r[u]=e.mul(i,r[u]),e.mul(i,a)),o),r}function Qa(e,t){const n=(e.ORDER-me)/Lt,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Wb(e,t){t!==void 0&&or(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function js(e,t,n=!1,r={}){if(e<=ge)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(s=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(s=t),r.sqrt&&(o=r.sqrt);const{nBitLength:i,nByteLength:a}=Wb(e,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const c=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:a,MASK:_s(i),ZERO:ge,ONE:me,create:d=>$e(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return ge<=d&&d<e},is0:d=>d===ge,isValidNot0:d=>!c.is0(d)&&c.isValid(d),isOdd:d=>(d&me)===me,neg:d=>$e(-d,e),eql:(d,f)=>d===f,sqr:d=>$e(d*d,e),add:(d,f)=>$e(d+f,e),sub:(d,f)=>$e(d-f,e),mul:(d,f)=>$e(d*f,e),pow:(d,f)=>Vb(c,d,f),div:(d,f)=>$e(d*Ka(f,e),e),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>Ka(d,e),sqrt:o||(d=>(u||(u=qb(e)),u(c,d))),toBytes:d=>n?qd(d,a):Qi(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?Dd(d):Ns(d)},invertBatch:d=>Kd(c,d),cmov:(d,f,l)=>l?f:d});return Object.freeze(c)}function Qd(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Zd(e){const t=Qd(e);return t+Math.ceil(t/2)}function Kb(e,t,n=!1){const r=e.length,s=Qd(t),o=Zd(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Dd(e):Ns(e),a=$e(i,t-me)+me;return n?qd(a,s):Qi(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Un=BigInt(0),Ut=BigInt(1);function tr(e,t){const n=t.negate();return e?n:t}function Qb(e,t,n){const r=i=>i.pz,s=Kd(e.Fp,n.map(r));return n.map((i,a)=>i.toAffine(s[a])).map(e.fromAffine)}function Jd(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function oo(e,t){Jd(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=_s(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Za(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),u=e>>i;a>r&&(a-=o,u+=Ut);const c=t*r,d=c+Math.abs(a)-1,f=a===0,l=a<0,h=t%2!==0;return{nextN:u,offset:d,isZero:f,isNeg:l,isNegF:h,offsetF:c}}function Zb(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Jb(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const io=new WeakMap,Yd=new WeakMap;function ao(e){return Yd.get(e)||1}function Ja(e){if(e!==Un)throw new Error("invalid wNAF")}function Yb(e,t){return{constTimeNegate:tr,hasPrecomputes(n){return ao(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Un;)r&Ut&&(s=s.add(o)),o=o.double(),r>>=Ut;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=oo(r,t),i=[];let a=n,u=a;for(let c=0;c<s;c++){u=a,i.push(u);for(let d=1;d<o;d++)u=u.add(a),i.push(u);a=u.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=oo(n,t);for(let u=0;u<a.windows;u++){const{nextN:c,offset:d,isZero:f,isNeg:l,isNegF:h,offsetF:p}=Za(s,u,a);s=c,f?i=i.add(tr(h,r[p])):o=o.add(tr(l,r[d]))}return Ja(s),{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=oo(n,t);for(let a=0;a<i.windows&&s!==Un;a++){const{nextN:u,offset:c,isZero:d,isNeg:f}=Za(s,a,i);if(s=u,!d){const l=r[c];o=o.add(f?l.negate():l)}}return Ja(s),o},getPrecomputes(n,r,s){let o=io.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(o=s(o)),io.set(r,o))),o},wNAFCached(n,r,s){const o=ao(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=ao(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Jd(r,t),Yd.set(n,r),io.delete(n)}}}function Xb(e,t,n,r){let s=t,o=e.ZERO,i=e.ZERO;for(;n>Un||r>Un;)n&Ut&&(o=o.add(s)),r&Ut&&(i=i.add(s)),s=s.double(),n>>=Ut,r>>=Ut;return{p1:o,p2:i}}function ey(e,t,n,r){Zb(n,e),Jb(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=jb(BigInt(s));let u=1;a>12?u=a-3:a>4?u=a-2:a>0&&(u=2);const c=_s(u),d=new Array(Number(c)+1).fill(i),f=Math.floor((t.BITS-1)/u)*u;let l=i;for(let h=f;h>=0;h-=u){d.fill(i);for(let m=0;m<o;m++){const b=r[m],v=Number(b>>BigInt(h)&c);d[v]=d[v].add(n[m])}let p=i;for(let m=d.length-1,b=i;m>0;m--)b=b.add(d[m]),p=p.add(b);if(l=l.add(p),h!==0)for(let m=0;m<u;m++)l=l.double()}return l}function Ya(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Gb(t),t}else return js(e)}function ty(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const u=t[a];if(!(typeof u=="bigint"&&u>Un))throw new Error(`CURVE.${a} must be positive bigint`)}const r=Ya(t.p,n.Fp),s=Ya(t.n,n.Fn),i=["Gx","Gy","a","b"];for(const a of i)if(!r.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Xa(e){e.lowS!==void 0&&ds("lowS",e.lowS),e.prehash!==void 0&&ds("prehash",e.prehash)}class ny extends Error{constructor(t=""){super(t)}}const rt={Err:ny,_tlv:{encode:(e,t)=>{const{Err:n}=rt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Wr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Wr(s.length/2|128):"";return Wr(e)+o+s+t},decode(e,t){const{Err:n}=rt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const u=s&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(r,r+u);if(c.length!==u)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)i=i<<8|d;if(r+=u,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=rt;if(e<nr)throw new t("integer: negative integers are not allowed");let n=Wr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=rt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ns(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=rt,s=Ie("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,o),{v:c,l:d}=r.decode(2,u);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=rt,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},nr=BigInt(0),rr=BigInt(1),ry=BigInt(2),Kr=BigInt(3),sy=BigInt(4);function oy(e,t,n){function r(s){const o=e.sqr(s),i=e.mul(o,s);return e.add(e.add(i,e.mul(s,t)),n)}return r}function Xd(e,t,n){const{BYTES:r}=e;function s(o){let i;if(typeof o=="bigint")i=o;else{let a=Ie("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const u=new Uint8Array(r);u.set(a,u.length-a.length),a=u}try{i=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(i=e.create(i)),!e.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}return s}function iy(e,t={}){const{Fp:n,Fn:r}=ty("weierstrass",e,t),{h:s,n:o}=e;Zi(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:i}=t;if(i&&(!n.is0(e.a)||typeof i.beta!="bigint"||typeof i.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function u(C,g,A){const{x:P,y:$}=g.toAffine(),k=n.toBytes(P);if(ds("isCompressed",A),A){a();const R=!n.isOdd($);return Tt(ef(R),k)}else return Tt(Uint8Array.of(4),k,n.toBytes($))}function c(C){Te(C);const g=n.BYTES,A=g+1,P=2*g+1,$=C.length,k=C[0],R=C.subarray(1);if($===A&&(k===2||k===3)){const F=n.fromBytes(R);if(!n.isValid(F))throw new Error("bad point: is not on curve, wrong x");const M=l(F);let j;try{j=n.sqrt(M)}catch(H){const U=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}a();const T=n.isOdd(j);return(k&1)===1!==T&&(j=n.neg(j)),{x:F,y:j}}else if($===P&&k===4){const F=n.fromBytes(R.subarray(g*0,g*1)),M=n.fromBytes(R.subarray(g*1,g*2));if(!h(F,M))throw new Error("bad point: is not on curve");return{x:F,y:M}}else throw new Error(`bad point: got length ${$}, expected compressed=${A} or uncompressed=${P}`)}const d=t.toBytes||u,f=t.fromBytes||c,l=oy(n,e.a,e.b);function h(C,g){const A=n.sqr(g),P=l(C);return n.eql(A,P)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(e.a,Kr),sy),m=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(p,m)))throw new Error("bad curve params: a or b");function b(C,g,A=!1){if(!n.isValid(g)||A&&n.is0(g))throw new Error(`bad point coordinate ${C}`);return g}function v(C){if(!(C instanceof w))throw new Error("ProjectivePoint expected")}const E=Wa((C,g)=>{const{px:A,py:P,pz:$}=C;if(n.eql($,n.ONE))return{x:A,y:P};const k=C.is0();g==null&&(g=k?n.ONE:n.inv($));const R=n.mul(A,g),F=n.mul(P,g),M=n.mul($,g);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:R,y:F}}),x=Wa(C=>{if(C.is0()){if(t.allowInfinityPoint&&!n.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:g,y:A}=C.toAffine();if(!n.isValid(g)||!n.isValid(A))throw new Error("bad point: x or y not field elements");if(!h(g,A))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function O(C,g,A,P,$){return A=new w(n.mul(A.px,C),A.py,A.pz),g=tr(P,g),A=tr($,A),g.add(A)}class w{constructor(g,A,P){this.px=b("x",g),this.py=b("y",A,!0),this.pz=b("z",P),Object.freeze(this)}static fromAffine(g){const{x:A,y:P}=g||{};if(!g||!n.isValid(A)||!n.isValid(P))throw new Error("invalid affine point");if(g instanceof w)throw new Error("projective point not allowed");return n.is0(A)&&n.is0(P)?w.ZERO:new w(A,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){return Qb(w,"pz",g)}static fromBytes(g){return Te(g),w.fromHex(g)}static fromHex(g){const A=w.fromAffine(f(Ie("pointHex",g)));return A.assertValidity(),A}static fromPrivateKey(g){const A=Xd(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return w.BASE.multiply(A(g))}static msm(g,A){return ey(w,r,g,A)}precompute(g=8,A=!0){return I.setWindowSize(this,g),A||this.multiply(Kr),this}_setWindowSize(g){this.precompute(g)}assertValidity(){x(this)}hasEvenY(){const{y:g}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(g)}equals(g){v(g);const{px:A,py:P,pz:$}=this,{px:k,py:R,pz:F}=g,M=n.eql(n.mul(A,F),n.mul(k,$)),j=n.eql(n.mul(P,F),n.mul(R,$));return M&&j}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:A}=e,P=n.mul(A,Kr),{px:$,py:k,pz:R}=this;let F=n.ZERO,M=n.ZERO,j=n.ZERO,T=n.mul($,$),D=n.mul(k,k),H=n.mul(R,R),U=n.mul($,k);return U=n.add(U,U),j=n.mul($,R),j=n.add(j,j),F=n.mul(g,j),M=n.mul(P,H),M=n.add(F,M),F=n.sub(D,M),M=n.add(D,M),M=n.mul(F,M),F=n.mul(U,F),j=n.mul(P,j),H=n.mul(g,H),U=n.sub(T,H),U=n.mul(g,U),U=n.add(U,j),j=n.add(T,T),T=n.add(j,T),T=n.add(T,H),T=n.mul(T,U),M=n.add(M,T),H=n.mul(k,R),H=n.add(H,H),T=n.mul(H,U),F=n.sub(F,T),j=n.mul(H,D),j=n.add(j,j),j=n.add(j,j),new w(F,M,j)}add(g){v(g);const{px:A,py:P,pz:$}=this,{px:k,py:R,pz:F}=g;let M=n.ZERO,j=n.ZERO,T=n.ZERO;const D=e.a,H=n.mul(e.b,Kr);let U=n.mul(A,k),K=n.mul(P,R),X=n.mul($,F),te=n.add(A,P),Q=n.add(k,R);te=n.mul(te,Q),Q=n.add(U,K),te=n.sub(te,Q),Q=n.add(A,$);let ue=n.add(k,F);return Q=n.mul(Q,ue),ue=n.add(U,X),Q=n.sub(Q,ue),ue=n.add(P,$),M=n.add(R,F),ue=n.mul(ue,M),M=n.add(K,X),ue=n.sub(ue,M),T=n.mul(D,Q),M=n.mul(H,X),T=n.add(M,T),M=n.sub(K,T),T=n.add(K,T),j=n.mul(M,T),K=n.add(U,U),K=n.add(K,U),X=n.mul(D,X),Q=n.mul(H,Q),K=n.add(K,X),X=n.sub(U,X),X=n.mul(D,X),Q=n.add(Q,X),U=n.mul(K,Q),j=n.add(j,U),U=n.mul(ue,Q),M=n.mul(te,M),M=n.sub(M,U),U=n.mul(te,K),T=n.mul(ue,T),T=n.add(T,U),new w(M,j,T)}subtract(g){return this.add(g.negate())}is0(){return this.equals(w.ZERO)}multiply(g){const{endo:A}=t;if(!r.isValidNot0(g))throw new Error("invalid scalar: out of range");let P,$;const k=R=>I.wNAFCached(this,R,w.normalizeZ);if(A){const{k1neg:R,k1:F,k2neg:M,k2:j}=A.splitScalar(g),{p:T,f:D}=k(F),{p:H,f:U}=k(j);$=D.add(U),P=O(A.beta,T,H,R,M)}else{const{p:R,f:F}=k(g);P=R,$=F}return w.normalizeZ([P,$])[0]}multiplyUnsafe(g){const{endo:A}=t,P=this;if(!r.isValid(g))throw new Error("invalid scalar: out of range");if(g===nr||P.is0())return w.ZERO;if(g===rr)return P;if(I.hasPrecomputes(this))return this.multiply(g);if(A){const{k1neg:$,k1:k,k2neg:R,k2:F}=A.splitScalar(g),{p1:M,p2:j}=Xb(w,P,k,F);return O(A.beta,M,j,$,R)}else return I.wNAFCachedUnsafe(P,g)}multiplyAndAddUnsafe(g,A,P){const $=this.multiplyUnsafe(A).add(g.multiplyUnsafe(P));return $.is0()?void 0:$}toAffine(g){return E(this,g)}isTorsionFree(){const{isTorsionFree:g}=t;return s===rr?!0:g?g(w,this):I.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:g}=t;return s===rr?this:g?g(w,this):this.multiplyUnsafe(s)}toBytes(g=!0){return ds("isCompressed",g),this.assertValidity(),d(w,this,g)}toRawBytes(g=!0){return this.toBytes(g)}toHex(g=!0){return en(this.toBytes(g))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}w.BASE=new w(e.Gx,e.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO),w.Fp=n,w.Fn=r;const S=r.BITS,I=Yb(w,t.endo?Math.ceil(S/2):S);return w}function ef(e){return Uint8Array.of(e?2:3)}function ay(e,t,n={}){Zi(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||$l,s=t.hmac||((P,...$)=>Ld(t.hash,P,Tt(...$))),{Fp:o,Fn:i}=e,{ORDER:a,BITS:u}=i;function c(P){const $=a>>rr;return P>$}function d(P){return c(P)?i.neg(P):P}function f(P,$){if(!i.isValidNot0($))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class l{constructor($,k,R){f("r",$),f("s",k),this.r=$,this.s=k,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact($){const k=i.BYTES,R=Ie("compactSignature",$,k*2);return new l(i.fromBytes(R.subarray(0,k)),i.fromBytes(R.subarray(k,k*2)))}static fromDER($){const{r:k,s:R}=rt.toSig(Ie("DER",$));return new l(k,R)}assertValidity(){}addRecoveryBit($){return new l(this.r,this.s,$)}recoverPublicKey($){const k=o.ORDER,{r:R,s:F,recovery:M}=this;if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");if(a*ry<k&&M>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=M===2||M===3?R+a:R;if(!o.isValid(T))throw new Error("recovery id 2 or 3 invalid");const D=o.toBytes(T),H=e.fromHex(Tt(ef((M&1)===0),D)),U=i.inv(T),K=x(Ie("msgHash",$)),X=i.create(-K*U),te=i.create(F*U),Q=e.BASE.multiplyUnsafe(X).add(H.multiplyUnsafe(te));if(Q.is0())throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new l(this.r,i.neg(this.s),this.recovery):this}toBytes($){if($==="compact")return Tt(i.toBytes(this.r),i.toBytes(this.s));if($==="der")return kr(rt.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return en(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return en(this.toBytes("compact"))}}const h=Xd(i,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(P){try{return h(P),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const P=a;return Kb(r(Zd(P)),P)},precompute(P=8,$=e.BASE){return $.precompute(P,!1)}};function m(P,$=!0){return e.fromPrivateKey(P).toBytes($)}function b(P){if(typeof P=="bigint")return!1;if(P instanceof e)return!0;const k=Ie("key",P).length,R=o.BYTES,F=R+1,M=2*R+1;if(!(n.allowedPrivateKeyLengths||i.BYTES===F))return k===F||k===M}function v(P,$,k=!0){if(b(P)===!0)throw new Error("first arg must be private key");if(b($)===!1)throw new Error("second arg must be public key");return e.fromHex($).multiply(h(P)).toBytes(k)}const E=t.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const $=Ns(P),k=P.length*8-u;return k>0?$>>BigInt(k):$},x=t.bits2int_modN||function(P){return i.create(E(P))},O=_s(u);function w(P){return _b("num < 2^"+u,P,nr,O),i.toBytes(P)}function S(P,$,k=I){if(["recovered","canonical"].some(te=>te in k))throw new Error("sign() legacy options not supported");const{hash:R}=t;let{lowS:F,prehash:M,extraEntropy:j}=k;F==null&&(F=!0),P=Ie("msgHash",P),Xa(k),M&&(P=Ie("prehashed msgHash",R(P)));const T=x(P),D=h($),H=[w(D),w(T)];if(j!=null&&j!==!1){const te=j===!0?r(o.BYTES):j;H.push(Ie("extraEntropy",te))}const U=Tt(...H),K=T;function X(te){const Q=E(te);if(!i.isValidNot0(Q))return;const ue=i.inv(Q),Zn=e.BASE.multiply(Q).toAffine(),hn=i.create(Zn.x);if(hn===nr)return;const jt=i.create(ue*i.create(K+hn*D));if(jt===nr)return;let Us=(Zn.x===hn?0:2)|Number(Zn.y&rr),pn=jt;return F&&c(jt)&&(pn=d(jt),Us^=1),new l(hn,pn,Us)}return{seed:U,k2sig:X}}const I={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function g(P,$,k=I){const{seed:R,k2sig:F}=S(P,$,k);return zb(t.hash.outputLen,i.BYTES,s)(R,F)}e.BASE.precompute(8);function A(P,$,k,R=C){const F=P;$=Ie("msgHash",$),k=Ie("publicKey",k),Xa(R);const{lowS:M,prehash:j,format:T}=R;if("strict"in R)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&!["compact","der","js"].includes(T))throw new Error('format must be "compact", "der" or "js"');const D=typeof F=="string"||ws(F),H=!D&&!T&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!D&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,K;try{if(H)if(T===void 0||T==="js")U=new l(F.r,F.s);else throw new Error("invalid format");if(D){try{T!=="compact"&&(U=l.fromDER(F))}catch(pn){if(!(pn instanceof rt.Err))throw pn}!U&&T!=="der"&&(U=l.fromCompact(F))}K=e.fromHex(k)}catch{return!1}if(!U||M&&U.hasHighS())return!1;j&&($=t.hash($));const{r:X,s:te}=U,Q=x($),ue=i.inv(te),Zn=i.create(Q*ue),hn=i.create(X*ue),jt=e.BASE.multiplyUnsafe(Zn).add(K.multiplyUnsafe(hn));return jt.is0()?!1:i.create(jt.x)===X}return Object.freeze({getPublicKey:m,getSharedSecret:v,sign:g,verify:A,utils:p,Point:e,Signature:l})}function cy(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=js(t.n,e.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function uy(e){const{CURVE:t,curveOpts:n}=cy(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function dy(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function fy(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=uy(e),s=iy(t,n),o=ay(s,r,n);return dy(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ly(e,t){const n=r=>fy({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fs={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const hy=BigInt(1),Wo=BigInt(2),ec=(e,t)=>(e+t/Wo)/t;function py(e){const t=fs.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%t,d=c*c*e%t,f=Se(d,n,t)*d%t,l=Se(f,n,t)*d%t,h=Se(l,Wo,t)*c%t,p=Se(h,s,t)*h%t,m=Se(p,o,t)*p%t,b=Se(m,a,t)*m%t,v=Se(b,u,t)*b%t,E=Se(v,a,t)*m%t,x=Se(E,n,t)*d%t,O=Se(x,i,t)*p%t,w=Se(O,r,t)*c%t,S=Se(w,Wo,t);if(!Ko.eql(Ko.sqr(S),e))throw new Error("Cannot find square root");return S}const Ko=js(fs.p,void 0,void 0,{sqrt:py}),Ji=ly({...fs,Fp:Ko,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fs.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-hy*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=ec(o*e,t),u=ec(-r*e,t);let c=$e(e-a*n-u*s,t),d=$e(-a*r-u*o,t);const f=c>i,l=d>i;if(f&&(c=t-c),l&&(d=t-d),c>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:l,k2:d}}}},xu),my=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Ji},Symbol.toStringTag,{value:"Module"}));function by({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Ji.Signature(Oe(e),Oe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Be(i)}async function Yi(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,universalSignatureVerifierAddress:a=e.chain?.contracts?.universalSignatureVerifier?.address,...u}=t,c=_e(i)?i:typeof i=="object"&&"r"in i&&"s"in i?by(i):re(i),d=await(async()=>!r&&!s||gb(c)?c:wb({address:r,data:s,signature:c}))();try{const f=a?{to:a,data:Ue({abi:Ba,functionName:"isValidSig",args:[n,o,d]}),...u}:{data:xi({abi:Ba,args:[n,o,d],bytecode:k0}),...u},{data:l}=await L(e,Wn,"call")(f);return Wf(l??"0x0")}catch(f){try{if(Ur(vn(n),await nu({hash:o,signature:i})))return!0}catch{}if(f instanceof Wu)return!1;throw f}}async function yy(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Md(n);return Yi(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function gy(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:u,domain:c,...d}=t,f=ub({message:i,primaryType:a,types:u,domain:c});return Yi(e,{address:n,factory:r,factoryData:s,hash:f,signature:o,...d})}function wy(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:u,onLogs:c,poll:d,pollingInterval:f=e.pollingInterval,strict:l}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const b=l??!1,v=ee(["watchContractEvent",r,s,o,e.uid,i,f,b,a]);return lt(v,{onLogs:c,onError:u},E=>{let x;a!==void 0&&(x=a-1n);let O,w=!1;const S=Kn(async()=>{if(!w){try{O=await L(e,ld,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:b,fromBlock:a})}catch{}w=!0;return}try{let I;if(O)I=await L(e,ks,"getFilterChanges")({filter:O});else{const C=await L(e,Lr,"getBlockNumber")({});x&&x<C?I=await L(e,md,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:x+1n,toBlock:C,strict:b}):I=[],x=C}if(I.length===0)return;if(o)E.onLogs(I);else for(const C of I)E.onLogs([C])}catch(I){O&&I instanceof nn&&(w=!1),E.onError?.(I)}},{emitOnBegin:!0,interval:f});return async()=>{O&&await L(e,Ms,"uninstallFilter")({filter:O}),S()}})})():(()=>{const b=l??!1,v=ee(["watchContractEvent",r,s,o,e.uid,i,f,b]);let E=!0,x=()=>E=!1;return lt(v,{onLogs:c,onError:u},O=>((async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const C=e.transport.transports.find(g=>g.config.type==="webSocket"||g.config.type==="ipc");return C?C.value:e.transport}return e.transport})(),S=i?zr({abi:n,eventName:i,args:s}):[],{unsubscribe:I}=await w.subscribe({params:["logs",{address:r,topics:S}],onData(C){if(!E)return;const g=C.result;try{const{eventName:A,args:P}=qi({abi:n,data:g.data,topics:g.topics,strict:l}),$=ft(g,{args:P,eventName:A});O.onLogs([$])}catch(A){let P,$;if(A instanceof sr||A instanceof gs){if(l)return;P=A.abiItem.name,$=A.abiItem.inputs?.some(R=>!("name"in R&&R.name))}const k=ft(g,{args:$?[]:{},eventName:P});O.onLogs([k])}},onError(C){O.onError?.(C)}});x=I,E||x()}catch(w){u?.(w)}})(),()=>x()))})()}async function vy(e,t){const{abi:n,account:r=e.account,address:s,args:o,dataSuffix:i,functionName:a,...u}=t;if(typeof r>"u")throw new Ei({docsPath:"/docs/contract/writeContract"});const c=r?ce(r):null,d=Ue({abi:n,args:o,functionName:a});try{return await L(e,Wh,"sendTransaction")({data:`${d}${i?i.replace("0x",""):""}`,to:s,account:c,...u})}catch(f){throw on(f,{abi:n,address:s,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:c?.address})}}function Xt(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const ns="2.17.3",xy=()=>`@wagmi/core@${ns}`;var tf=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ls,nf;let mt=class Qo extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return xy()}constructor(t,n={}){super(),ls.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Qo?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Qo&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return tf(this,ls,"m",nf).call(this,this,t)}};ls=new WeakSet,nf=function e(t,n){return n?.(t)?t:t.cause?tf(this,ls,"m",e).call(this,t.cause,n):t};class hs extends mt{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Ey extends mt{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Py extends mt{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Sy extends mt{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Iy extends mt{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Ay extends mt{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function $y(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new Ey;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,o=await n.connect(s),i=o.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:i,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i,chainId:o.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const Zo=256;let Qr=Zo,Zr;function rf(e=11){if(!Zr||Qr+e>Zo*2){Zr="",Qr=0;for(let t=0;t<Zo;t++)Zr+=(256+Math.random()*256|0).toString(16).substring(1)}return Zr.substring(Qr,Qr+++e)}function Xi(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(a/2),500),4e3),c=e.pollingInterval??u,d=e.cacheTime??c,f=e.account?ce(e.account):void 0,{config:l,request:h,value:p}=e.transport({chain:n,pollingInterval:c}),m={...l,...p},b={account:f,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:c,request:h,transport:m,type:i,uid:rf()};function v(E){return x=>{const O=x(E);for(const S in b)delete O[S];const w={...E,...O};return Object.assign(w,{extend:v(w)})}}return Object.assign(b,{extend:v(b)})}function sf({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},u){const c=rf();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:Zm(r,{methods:t,retryCount:s,retryDelay:o,uid:c}),value:u}}function Cy(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>sf({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}class By extends B{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function d1(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:o,name:i="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:u,retryDelay:c,raw:d}=t;return({chain:f,retryCount:l,timeout:h})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},b=t.retryCount??l,v=h??t.timeout??1e4,E=e||f?.rpcUrls.default.http[0];if(!E)throw new By;const x=ob(E,{fetchOptions:r,onRequest:a,onResponse:u,timeout:v});return sf({key:s,methods:o,name:i,async request({method:O,params:w}){const S={method:O,params:w},{schedule:I}=ad({id:E,wait:m,shouldSplitBatch(P){return P.length>p},fn:P=>x.request({body:P}),sort:(P,$)=>P.id-$.id}),C=async P=>n?I(P):[await x.request({body:P})],[{error:g,result:A}]=await C(S);if(d)return{error:g,result:A};if(g)throw new Ii({body:S,error:g,url:E});return A},retryCount:b,retryDelay:c,timeout:v,type:"http"},{fetchOptions:r,url:E})}}function Oy(e){const{scheme:t,statement:n,...r}=e.match(Ty)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:u,...c}=e.match(ky)?.groups??{},d=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...c,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...u?{requestId:u}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Ty=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ky=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Ry(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!xe(r.address,{strict:!1})||t&&!Ur(r.address,t))return!1}catch{return!1}return!0}async function Fy(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:u=new Date,...c}=t,d=Oy(s);if(!d.address||!Ry({address:n,domain:r,message:d,nonce:o,scheme:i,time:u}))return!1;const l=Md(s);return Yi(e,{address:d.address,hash:l,signature:a,...c})}function My(e){return{call:t=>Wn(e,t),createAccessList:t=>fd(e,t),createBlockFilter:()=>em(e),createContractEventFilter:t=>ld(e,t),createEventFilter:t=>hd(e,t),createPendingTransactionFilter:()=>pd(e),estimateContractGas:t=>nm(e,t),estimateGas:t=>Oi(e,t),getBalance:t=>Bi(e,t),getBlobBaseFee:()=>rm(e),getBlock:t=>Ke(e,t),getBlockNumber:t=>Lr(e,t),getBlockTransactionCount:t=>um(e,t),getBytecode:t=>Da(e,t),getChainId:()=>As(e),getCode:t=>Da(e,t),getContractEvents:t=>md(e,t),getEip712Domain:t=>hm(e,t),getEnsAddress:t=>j0(e,t),getEnsAvatar:t=>J0(e,t),getEnsName:t=>Y0(e,t),getEnsResolver:t=>X0(e,t),getEnsText:t=>dd(e,t),getFeeHistory:t=>bm(e,t),estimateFeesPerGas:t=>Ph(e,t),getFilterChanges:t=>ks(e,t),getFilterLogs:t=>ym(e,t),getGasPrice:()=>$i(e),getLogs:t=>Gi(e,t),getProof:t=>Fb(e,t),estimateMaxPriorityFeePerGas:t=>Eh(e,t),getStorageAt:t=>gm(e,t),getTransaction:t=>Rs(e,t),getTransactionConfirmations:t=>wm(e,t),getTransactionCount:t=>Ti(e,t),getTransactionReceipt:t=>jo(e,t),multicall:t=>yd(e,t),prepareTransactionRequest:t=>Ri(e,t),readContract:t=>Je(e,t),sendRawTransaction:t=>Iu(e,t),simulate:t=>zo(e,t),simulateBlocks:t=>zo(e,t),simulateCalls:t=>Pb(e,t),simulateContract:t=>Mb(e,t),verifyMessage:t=>yy(e,t),verifySiweMessage:t=>Fy(e,t),verifyTypedData:t=>gy(e,t),uninstallFilter:t=>Ms(e,t),waitForTransactionReceipt:t=>jd(e,t),watchBlocks:t=>Ib(e,t),watchBlockNumber:t=>_d(e,t),watchContractEvent:t=>wy(e,t),watchEvent:t=>Ab(e,t),watchPendingTransactions:t=>$b(e,t)}}function f1(e){const{key:t="public",name:n="Public Client"}=e;return Xi({...e,key:t,name:n,type:"publicClient"}).extend(My)}function l1(e){const{r:t,s:n}=Ji.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,o]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:_(t,{size:32}),s:_(n,{size:32}),v:s,yParity:o}:{r:_(t,{size:32}),s:_(n,{size:32}),yParity:o}}async function Ny(e,t={}){let n;if(t.connector){const{connector:c}=t;if(e.state.status==="reconnecting"&&!c.getAccounts&&!c.getChainId)throw new Ay({connector:c});const[d,f]=await Promise.all([c.getAccounts().catch(l=>{if(t.account===null)return[];throw l}),c.getChainId()]);n={accounts:d,chainId:f,connector:c}}else n=e.state.connections.get(e.state.current);if(!n)throw new Py;const r=t.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new Iy({connectionChainId:n.chainId,connectorChainId:s});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const i=ce(t.account??n.accounts[0]);if(i&&(i.address=vn(i.address)),t.account&&!n.accounts.some(c=>c.toLowerCase()===i.address.toLowerCase()))throw new Sy({address:i.address,connector:o});const a=e.chains.find(c=>c.id===r),u=await n.connector.getProvider({chainId:r});return Xi({account:i,chain:a,name:"Connector Client",transport:c=>Cy(u)({...c,retryCount:0})})}async function _y(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:o}=e.state;n=s.get(o)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...s,connections:new Map(r),current:o.connector.uid}});{const s=e.state.current;if(!s)return;const o=e.state.connections.get(s)?.connector;if(!o)return;await e.storage?.setItem("recentConnectorId",o.id)}}function of(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(ah[e])}function af(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],o=e.chains.find(a=>a.id===n?.chainId),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function jy(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...o}=t,i=e.getClient({chainId:r});return Xt(i,yd,"multicall")({allowFailure:n,contracts:s,...o})}function zy(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return Xt(s,Je,"readContract")(r)}async function Ly(e,t){const{allowFailure:n=!0,blockNumber:r,blockTag:s,...o}=t,i=t.contracts;try{const a={};for(const[f,l]of i.entries()){const h=l.chainId??e.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:l,index:f})}const u=()=>Object.entries(a).map(([f,l])=>jy(e,{...o,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(f),contracts:l.map(({contract:h})=>h)})),c=(await Promise.all(u())).flat(),d=Object.values(a).flatMap(f=>f.map(({index:l})=>l));return c.reduce((f,l,h)=>(f&&(f[d[h]]=l),f),[])}catch(a){if(a instanceof Ku)throw a;const u=()=>i.map(c=>zy(e,{...c,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(u())).map(c=>c.status==="fulfilled"?{result:c.value,status:"success"}:{error:c.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function Uy(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:o,token:i,unit:a="ether"}=t;if(i)try{return await tc(e,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:i})}catch(l){if(l.name==="ContractFunctionExecutionError"){const h=await tc(e,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:i}),p=Mc(Qe(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw l}const u=e.getClient({chainId:o}),d=await Xt(u,Bi,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),f=e.chains.find(l=>l.id===o)??u.chain;return{decimals:f.nativeCurrency.decimals,formatted:Ps(d,of(a)),symbol:f.nativeCurrency.symbol,value:d}}async function tc(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:o,unit:i}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:o},[u,c,d]=await Ly(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),f=Ps(u??"0",of(i??c));return{decimals:c,formatted:f,symbol:d,value:u}}function nc(e){return e.state.chainId}function Nt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Nt(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(o&&!Nt(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}let co=[];function rc(e){const t=e.chains;return Nt(co,t)?co:(co=t,t)}let Jr=[];function Jo(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Nt(Jr,t)?Jr:(Jr=t,t)}let uo=[];function sc(e){const t=e.connectors;return Nt(uo,t)?uo:(uo=t,t)}let fo=!1;async function Dy(e,t={}){if(fo)return[];fo=!0,e.setState(c=>({...c,status:c.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const c of t.connectors){let d;typeof c=="function"?d=e._internal.connectors.setup(c):d=c,n.push(d)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,c]of e.state.connections)s[c.connector.id]=1;r&&(s[r]=0);const o=Object.keys(s).length>0?[...n].sort((c,d)=>(s[c.id]??10)-(s[d.id]??10)):n;let i=!1;const a=[],u=[];for(const c of o){const d=await c.getProvider().catch(()=>{});if(!d||u.some(h=>h===d)||!await c.isAuthorized())continue;const l=await c.connect({isReconnecting:!0}).catch(()=>null);l&&(c.emitter.off("connect",e._internal.events.connect),c.emitter.on("change",e._internal.events.change),c.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const p=new Map(i?h.connections:new Map).set(c.uid,{accounts:l.accounts,chainId:l.chainId,connector:c});return{...h,current:i?h.current:c.uid,connections:p}}),a.push({accounts:l.accounts,chainId:l.chainId,connector:c}),u.push(d),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(c=>({...c,status:"connected"})):e.setState(c=>({...c,connections:new Map,current:null,status:"disconnected"}))),fo=!1,a}class wn extends mt{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class qy extends mt{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function Hy(e,t){const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(t.connector?.uid??e.state.current);if(s){const i=s.connector;if(!i.switchChain)throw new qy({connector:i});return await i.switchChain({addEthereumChainParameter:n,chainId:r})}const o=e.chains.find(i=>i.id===r);if(!o)throw new hs;return e.setState(i=>({...i,chainId:r})),o}function Gy(e,t){const{onChange:n}=t;return e.subscribe(()=>af(e),n,{equalityFn(r,s){const{connector:o,...i}=r,{connector:a,...u}=s;return Nt(i,u)&&o?.id===a?.id&&o?.uid===a?.uid}})}function Vy(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function Wy(e,t){const{onChange:n}=t;return e.subscribe(()=>Jo(e),n,{equalityFn:Nt})}function Ky(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}async function Qy(e,t){const{chainId:n,timeout:r=0,...s}=t,o=e.getClient({chainId:n}),a=await Xt(o,jd,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const c=await Xt(o,Rs,"getTransaction")({hash:a.transactionHash}),f=await Xt(o,Wn,"call")({...c,data:c.input,gasPrice:c.type!=="eip1559"?c.gasPrice:void 0,maxFeePerGas:c.type==="eip1559"?c.maxFeePerGas:void 0,maxPriorityFeePerGas:c.type==="eip1559"?c.maxPriorityFeePerGas:void 0}),l=f?.data?Mc(`0x${f.data.substring(138)}`):"unknown reason";throw new Error(l)}return{...a,chainId:o.chain.id}}async function Zy(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;return typeof n=="object"&&n?.type==="local"?i=e.getClient({chainId:r}):i=await Ny(e,{account:n??void 0,chainId:r,connector:s}),await Xt(i,vy,"writeContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})}function h1(e){return e}ea.type="injected";function ea(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const u=e.target;if(typeof u=="function"){const c=u();if(c)return c}return typeof u=="object"?u:typeof u=="string"?{...Jy[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c?.ethereum}}}let s,o,i,a;return u=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:ea.type,async setup(){const c=await this.getProvider();c?.on&&e.target&&(i||(i=this.onConnect.bind(this),c.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),c.on("accountsChanged",s)))},async connect({chainId:c,isReconnecting:d}={}){const f=await this.getProvider();if(!f)throw new wn;let l=[];if(d)l=await this.getAccounts().catch(()=>[]);else if(t)try{l=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>vn(p)),l.length>0&&(l=await this.getAccounts())}catch(h){const p=h;if(p.code===le.code)throw new le(p);if(p.code===Rt.code)throw p}try{!l?.length&&!d&&(l=(await f.request({method:"eth_requestAccounts"})).map(m=>vn(m))),i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let h=await this.getChainId();return c&&h!==c&&(h=(await this.switchChain({chainId:c}).catch(m=>{if(m.code===le.code)throw m;return{id:h}}))?.id??h),t&&await u.storage?.removeItem(`${this.id}.disconnected`),e.target||await u.storage?.setItem("injected.connected",!0),{accounts:l,chainId:h}}catch(h){const p=h;throw p.code===le.code?new le(p):p.code===Rt.code?new Rt(p):p}},async disconnect(){const c=await this.getProvider();if(!c)throw new wn;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),c.on("connect",i));try{await Bd(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await u.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await u.storage?.removeItem("injected.connected")},async getAccounts(){const c=await this.getProvider();if(!c)throw new wn;return(await c.request({method:"eth_accounts"})).map(f=>vn(f))},async getChainId(){const c=await this.getProvider();if(!c)throw new wn;const d=await c.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let c;const d=r();return typeof d.provider=="function"?c=d.provider(window):typeof d.provider=="string"?c=rs(window,d.provider):c=d.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){try{if(t&&await u.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await u.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const l=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",l),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(l()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(l()),h))]))return!0}throw new wn}return!!(await us(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:d}){const f=await this.getProvider();if(!f)throw new wn;const l=u.chains.find(p=>p.id===d);if(!l)throw new rn(new hs);const h=new Promise(p=>{const m=b=>{"chainId"in b&&b.chainId===d&&(u.emitter.off("change",m),p())};u.emitter.on("change",m)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:_(d)}]}).then(async()=>{await this.getChainId()===d&&u.emitter.emit("change",{chainId:d})}),h]),l}catch(p){const m=p;if(m.code===4902||m?.data?.originalError?.code===4902)try{const{default:b,...v}=l.blockExplorers??{};let E;c?.blockExplorerUrls?E=c.blockExplorerUrls:b&&(E=[b.url,...Object.values(v).map(w=>w.url)]);let x;c?.rpcUrls?.length?x=c.rpcUrls:x=[l.rpcUrls.default?.http[0]??""];const O={blockExplorerUrls:E,chainId:_(d),chainName:c?.chainName??l.name,iconUrls:c?.iconUrls,nativeCurrency:c?.nativeCurrency??l.nativeCurrency,rpcUrls:x};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[O]}).then(async()=>{if(await this.getChainId()===d)u.emitter.emit("change",{chainId:d});else throw new le(new Error("User rejected switch after adding network."))}),h]),l}catch(b){throw new le(b)}throw m.code===le.code?new le(m):new rn(m)}},async onAccountsChanged(c){if(c.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),t&&await u.storage?.removeItem(`${this.id}.disconnected`)}else u.emitter.emit("change",{accounts:c.map(d=>vn(d))})},onChainChanged(c){const d=Number(c);u.emitter.emit("change",{chainId:d})},async onConnect(c){const d=await this.getAccounts();if(d.length===0)return;const f=Number(c.chainId);u.emitter.emit("connect",{accounts:d,chainId:f});const l=await this.getProvider();l&&(i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(c){const d=await this.getProvider();c&&c.code===1013&&d&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),a&&(d.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),d.on("connect",i))))}})}const Jy={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:rs(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return rs(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:rs(e,"isPhantom")}}};function rs(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Yy(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Xy(){const e=new Set;let t=[];const n=()=>Yy(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const eg=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,u)=>{let c=i;if(a){const d=u?.equalityFn||Object.is;let f=i(r.getState());c=l=>{const h=i(l);if(!d(f,h)){const p=f;a(f=h,p)}},u?.fireImmediately&&a(f,f)}return s(c)},e(t,n,r)},tg=eg;function ng(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=u=>u===null?null:JSON.parse(u,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const Yo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Yo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Yo(r)(n)}}}},rg=(e,t)=>(n,r,s)=>{let o={storage:ng(()=>localStorage),partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...t},i=!1;const a=new Set,u=new Set;let c=o.storage;if(!c)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,s);const d=()=>{const m=o.partialize({...r()});return c.setItem(o.name,{state:m,version:o.version})},f=s.setState;s.setState=(m,b)=>{f(m,b),d()};const l=e((...m)=>{n(...m),d()},r,s);s.getInitialState=()=>l;let h;const p=()=>{var m,b;if(!c)return;i=!1,a.forEach(E=>{var x;return E((x=r())!=null?x:l)});const v=((b=o.onRehydrateStorage)==null?void 0:b.call(o,(m=r())!=null?m:l))||void 0;return Yo(c.getItem.bind(c))(o.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==o.version){if(o.migrate)return[!0,o.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var x;const[O,w]=E;if(h=o.merge(w,(x=r())!=null?x:l),n(h,!0),O)return d()}).then(()=>{v?.(h,void 0),h=r(),i=!0,u.forEach(E=>E(h))}).catch(E=>{v?.(void 0,E)})};return s.persist={setOptions:m=>{o={...o,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(u.add(m),()=>{u.delete(m)})},o.skipHydration||p(),h||l},sg=rg,oc=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const l=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,s,a);return a},lo=e=>e?oc(e):oc;var cf={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function o(u,c,d,f,l){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,f||u,l),p=n?n+c:c;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],h]:u._events[p].push(h):(u._events[p]=h,u._eventsCount++),u}function i(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var l=0,h=f.length,p=new Array(h);l<h;l++)p[l]=f[l].fn;return p},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,l,h,p){var m=n?n+c:c;if(!this._events[m])return!1;var b=this._events[m],v=arguments.length,E,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,l),!0;case 5:return b.fn.call(b.context,d,f,l,h),!0;case 6:return b.fn.call(b.context,d,f,l,h,p),!0}for(x=1,E=new Array(v-1);x<v;x++)E[x-1]=arguments[x];b.fn.apply(b.context,E)}else{var O=b.length,w;for(x=0;x<O;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),v){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,d);break;case 3:b[x].fn.call(b[x].context,d,f);break;case 4:b[x].fn.call(b[x].context,d,f,l);break;default:if(!E)for(w=1,E=new Array(v-1);w<v;w++)E[w-1]=arguments[w];b[x].fn.apply(b[x].context,E)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,l){var h=n?n+c:c;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!l||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var m=0,b=[],v=p.length;m<v;m++)(p[m].fn!==d||l&&!p[m].once||f&&p[m].context!==f)&&b.push(p[m]);b.length?this._events[h]=b.length===1?b[0]:b:i(this,h)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(cf);var og=cf.exports;const Xo=kf(og),p1=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Xo,default:Xo},Symbol.toStringTag,{value:"Module"}));class ig{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Xo})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function ag(e){return new ig(e)}function cg(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function ic(e,t){return e.slice(0,t).join(".")||"."}function ac(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function ug(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,u){if(typeof u=="object")if(s.length){const c=ac(s,this);c===0?s[s.length]=this:(s.splice(c),o.splice(c)),o[o.length]=a;const d=ac(s,u);if(d!==0)return r?t.call(this,a,u,ic(o,d)):`[ref=${ic(o,d)}]`}else s[0]=u,o[0]=a;return n?e.call(this,a,u):u}}function dg(e,t,n,r){return JSON.stringify(e,ug((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),t?.(s,i)??i},r),n??void 0)}function fg(e){const{deserialize:t=cg,key:n="wagmi",serialize:r=dg,storage:s=uf}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const u=s.getItem(`${n}.${i}`),c=await o(u);return c?t(c)??null:a??null},async setItem(i,a){const u=`${n}.${i}`;a===null?await o(s.removeItem(u)):await o(s.setItem(u,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const uf={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function lg(){const e=typeof window<"u"&&window.localStorage?window.localStorage:uf;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const ei=256;let Yr=ei,Xr;function hg(e=11){if(!Xr||Yr+e>ei*2){Xr="",Yr=0;for(let t=0;t<ei;t++)Xr+=(256+Math.random()*256|0).toString(16).substring(1)}return Xr.substring(Yr,Yr+++e)}function m1(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=fg({storage:lg()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?Xy():void 0,a=lo(()=>o.chains),u=lo(()=>{const w=[],S=new Set;for(const I of o.connectors??[]){const C=c(I);if(w.push(C),!s&&C.rdns){const g=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const A of g)S.add(A)}}if(!s&&i){const I=i.getProviders();for(const C of I)S.has(C.info.rdns)||w.push(c(d(C)))}return w});function c(w){const S=ag(hg()),I={...w({emitter:S,chains:a.getState(),storage:n,transports:o.transports}),emitter:S,uid:S.uid};return S.on("connect",x),I.setup?.(),I}function d(w){const{info:S}=w,I=w.provider;return ea({target:{...S,id:S.rdns,provider:I}})}const f=new Map;function l(w={}){const S=w.chainId??b.getState().chainId,I=a.getState().find(g=>g.id===S);if(w.chainId&&!I)throw new hs;{const g=f.get(b.getState().chainId);if(g&&!I)return g;if(!I)throw new hs}{const g=f.get(S);if(g)return g}let C;if(o.client)C=o.client({chain:I});else{const g=I.id,A=a.getState().map(k=>k.id),P={},$=Object.entries(o);for(const[k,R]of $)if(!(k==="chains"||k==="client"||k==="connectors"||k==="transports"))if(typeof R=="object")if(g in R)P[k]=R[g];else{if(A.some(M=>M in R))continue;P[k]=R}else P[k]=R;C=Xi({...P,chain:I,batch:P.batch??{multicall:!0},transport:k=>o.transports[g]({...k,connectors:u})})}return f.set(S,C),C}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const m="0.0.0-canary-";ns.startsWith(m)?p=Number.parseInt(ns.replace(m,"")):p=Number.parseInt(ns.split(".")[0]??"0");const b=lo(tg(n?sg(h,{migrate(w,S){if(S===p)return w;const I=h(),C=v(w,I.chainId);return{...I,chainId:C}},name:"store",partialize(w){return{connections:{__type:"Map",value:Array.from(w.connections.entries()).map(([S,I])=>{const{id:C,name:g,type:A,uid:P}=I.connector;return[S,{...I,connector:{id:C,name:g,type:A,uid:P}}]})},chainId:w.chainId,current:w.current}},merge(w,S){typeof w=="object"&&w&&"status"in w&&delete w.status;const I=v(w,S.chainId);return{...S,...w,chainId:I}},skipHydration:s,storage:n,version:p}):h));b.setState(h());function v(w,S){return w&&typeof w=="object"&&"chainId"in w&&typeof w.chainId=="number"&&a.getState().some(I=>I.id===w.chainId)?w.chainId:S}r&&b.subscribe(({connections:w,current:S})=>S?w.get(S)?.chainId:void 0,w=>{if(a.getState().some(I=>I.id===w))return b.setState(I=>({...I,chainId:w??I.chainId}))}),i?.subscribe(w=>{const S=new Set,I=new Set;for(const g of u.getState())if(S.add(g.id),g.rdns){const A=typeof g.rdns=="string"?[g.rdns]:g.rdns;for(const P of A)I.add(P)}const C=[];for(const g of w){if(I.has(g.info.rdns))continue;const A=c(d(g));S.has(A.id)||C.push(A)}n&&!b.persist.hasHydrated()||u.setState(g=>[...g,...C],!0)});function E(w){b.setState(S=>{const I=S.connections.get(w.uid);return I?{...S,connections:new Map(S.connections).set(w.uid,{accounts:w.accounts??I.accounts,chainId:w.chainId??I.chainId,connector:I.connector})}:S})}function x(w){b.getState().status==="connecting"||b.getState().status==="reconnecting"||b.setState(S=>{const I=u.getState().find(C=>C.uid===w.uid);return I?(I.emitter.listenerCount("connect")&&I.emitter.off("connect",E),I.emitter.listenerCount("change")||I.emitter.on("change",E),I.emitter.listenerCount("disconnect")||I.emitter.on("disconnect",O),{...S,connections:new Map(S.connections).set(w.uid,{accounts:w.accounts,chainId:w.chainId,connector:I}),current:w.uid,status:"connected"}):S})}function O(w){b.setState(S=>{const I=S.connections.get(w.uid);if(I){const g=I.connector;g.emitter.listenerCount("change")&&I.connector.emitter.off("change",E),g.emitter.listenerCount("disconnect")&&I.connector.emitter.off("disconnect",O),g.emitter.listenerCount("connect")||I.connector.emitter.on("connect",x)}if(S.connections.delete(w.uid),S.connections.size===0)return{...S,connections:new Map,current:null,status:"disconnected"};const C=S.connections.values().next().value;return{...S,connections:new Map(S.connections),current:C.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return u.getState()},storage:n,getClient:l,get state(){return b.getState()},setState(w){let S;typeof w=="function"?S=w(b.getState()):S=w;const I=h();typeof S!="object"&&(S=I),Object.keys(I).some(g=>!(g in S))&&(S=I),b.setState(S,!0)},subscribe(w,S,I){return b.subscribe(w,S,I?{...I,fireImmediately:I.emitImmediately}:void 0)},_internal:{mipd:i,store:b,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(w){const S=typeof w=="function"?w(a.getState()):w;if(S.length!==0)return a.setState(S,!0)},subscribe(w){return a.subscribe(w)}},connectors:{providerDetailToConnector:d,setup:c,setState(w){return u.setState(typeof w=="function"?w(u.getState()):w,!0)},subscribe(w){return u.subscribe(w)}},events:{change:E,connect:x,disconnect:O}}}}function pg(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const o=new Set;for(const u of s??[])if(u.rdns){const c=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const d of c)o.add(d)}const i=[],a=e._internal.mipd?.getProviders()??[];for(const u of a){if(o.has(u.info.rdns))continue;const c=e._internal.connectors.providerDetailToConnector(u),d=e._internal.connectors.setup(c);i.push(d)}return[...s,...i]})),r?Dy(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function mg(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:o}=pg(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||o();const i=V.useRef(!0);return V.useEffect(()=>{if(i.current&&n._internal.ssr)return o(),()=>{i.current=!1}},[]),t}const df=V.createContext(void 0);function b1(e){const{children:t,config:n}=e,r={value:n};return V.createElement(mg,e,V.createElement(df.Provider,r,t))}const bg="2.15.7",yg=()=>`wagmi@${bg}`;class gg extends mt{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return yg()}}class wg extends gg{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function De(e={}){const t=e.config??V.useContext(df);if(!t)throw new wg;return t}function vg(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var ff={exports:{}},lf={},hf={exports:{}},pf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=V;function xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Eg=typeof Object.is=="function"?Object.is:xg,Pg=Dn.useState,Sg=Dn.useEffect,Ig=Dn.useLayoutEffect,Ag=Dn.useDebugValue;function $g(e,t){var n=t(),r=Pg({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return Ig(function(){s.value=n,s.getSnapshot=t,ho(s)&&o({inst:s})},[e,n,t]),Sg(function(){return ho(s)&&o({inst:s}),e(function(){ho(s)&&o({inst:s})})},[e]),Ag(n),n}function ho(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Eg(e,n)}catch{return!0}}function Cg(e,t){return t()}var Bg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cg:$g;pf.useSyncExternalStore=Dn.useSyncExternalStore!==void 0?Dn.useSyncExternalStore:Bg;hf.exports=pf;var Og=hf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=V,Tg=Og;function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rg=typeof Object.is=="function"?Object.is:kg,Fg=Tg.useSyncExternalStore,Mg=zs.useRef,Ng=zs.useEffect,_g=zs.useMemo,jg=zs.useDebugValue;lf.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=Mg(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=_g(function(){function u(h){if(!c){if(c=!0,d=h,h=r(h),s!==void 0&&i.hasValue){var p=i.value;if(s(p,h))return f=p}return f=h}if(p=f,Rg(d,h))return p;var m=r(h);return s!==void 0&&s(p,m)?(d=h,p):(d=h,f=m)}var c=!1,d,f,l=n===void 0?null:n;return[function(){return u(t())},l===null?void 0:function(){return u(l())}]},[t,n,r,s]);var a=Fg(e,o[0],o[1]);return Ng(function(){i.hasValue=!0,i.value=a},[a]),jg(a),a};ff.exports=lf;var zg=ff.exports;const po=e=>typeof e=="object"&&!Array.isArray(e);function Lg(e,t,n=t,r=Nt){const s=V.useRef([]),o=zg.useSyncExternalStoreWithSelector(e,t,n,i=>i,(i,a)=>{if(po(i)&&po(a)&&s.current.length){for(const u of s.current)if(!r(i[u],a[u]))return!1;return!0}return r(i,a)});return V.useMemo(()=>{if(po(o)){const i={...o};let a={};for(const[u,c]of Object.entries(i))a={...a,[u]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(u)||s.current.push(u),c)}};return Object.defineProperties(i,a),i}return o},[o])}function y1(e={}){const t=De(e);return Lg(n=>Gy(t,{onChange:n}),()=>af(t))}var Qn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},un=typeof window>"u"||"Deno"in globalThis;function he(){}function Ug(e,t){return typeof e=="function"?e(t):e}function ti(e){return typeof e=="number"&&e>=0&&e!==1/0}function mf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ft(e,t){return typeof e=="function"?e(t):e}function Ce(e,t){return typeof e=="function"?e(t):e}function cc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==ta(i,t.options))return!1}else if(!Ir(t.queryKey,i))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function uc(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(dn(t.options.mutationKey)!==dn(o))return!1}else if(!Ir(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ta(e,t){return(t?.queryKeyHashFn||dn)(e)}function dn(e){return JSON.stringify(e,(t,n)=>ni(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ir(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ir(e[n],t[n])):!1}function bf(e,t){if(e===t)return e;const n=dc(e)&&dc(t);if(n||ni(e)&&ni(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<i;d++){const f=n?d:o[d];(!n&&u.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=bf(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function ps(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function dc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ni(e){if(!fc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!fc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dg(e){return new Promise(t=>{setTimeout(t,e)})}function ri(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bf(e,t):t}function qg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Hg(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var na=Symbol();function yf(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===na?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function gf(e,t){return typeof e=="function"?e(...t):!!e}var Dt,xt,Sn,gc,Gg=(gc=class extends Qn{constructor(){super();z(this,Dt);z(this,xt);z(this,Sn);N(this,Sn,t=>{if(!un&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,xt)||this.setEventListener(y(this,Sn))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,xt))==null||t.call(this),N(this,xt,void 0))}setEventListener(t){var n;N(this,Sn,t),(n=y(this,xt))==null||n.call(this),N(this,xt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,Dt)!==t&&(N(this,Dt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){return typeof y(this,Dt)=="boolean"?y(this,Dt):globalThis.document?.visibilityState!=="hidden"}},Dt=new WeakMap,xt=new WeakMap,Sn=new WeakMap,gc),ra=new Gg,In,Et,An,wc,Vg=(wc=class extends Qn{constructor(){super();z(this,In,!0);z(this,Et);z(this,An);N(this,An,t=>{if(!un&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Et)||this.setEventListener(y(this,An))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Et))==null||t.call(this),N(this,Et,void 0))}setEventListener(t){var n;N(this,An,t),(n=y(this,Et))==null||n.call(this),N(this,Et,t(this.setOnline.bind(this)))}setOnline(t){y(this,In)!==t&&(N(this,In,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,In)}},In=new WeakMap,Et=new WeakMap,An=new WeakMap,wc),ms=new Vg;function si(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Wg(e){return Math.min(1e3*2**e,3e4)}function wf(e){return(e??"online")==="online"?ms.isOnline():!0}var vf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function mo(e){return e instanceof vf}function xf(e){let t=!1,n=0,r=!1,s;const o=si(),i=m=>{r||(l(new vf(m)),e.abort?.())},a=()=>{t=!0},u=()=>{t=!1},c=()=>ra.isFocused()&&(e.networkMode==="always"||ms.isOnline())&&e.canRun(),d=()=>wf(e.networkMode)&&e.canRun(),f=m=>{r||(r=!0,e.onSuccess?.(m),s?.(),o.resolve(m))},l=m=>{r||(r=!0,e.onError?.(m),s?.(),o.reject(m))},h=()=>new Promise(m=>{s=b=>{(r||c())&&m(b)},e.onPause?.()}).then(()=>{s=void 0,r||e.onContinue?.()}),p=()=>{if(r)return;let m;const b=n===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{if(r)return;const E=e.retry??(un?0:3),x=e.retryDelay??Wg,O=typeof x=="function"?x(n,v):x,w=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,v);if(t||!w){l(v);return}n++,e.onFail?.(n,v),Dg(O).then(()=>c()?void 0:h()).then(()=>{t?l(v):p()})})};return{promise:o,cancel:i,continue:()=>(s?.(),o),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?p():h().then(p),o)}}var Kg=e=>setTimeout(e,0);function Qg(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Kg;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||i()}return u},batchCalls:a=>(...u)=>{o(()=>{a(...u)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ne=Qg(),qt,vc,Ef=(vc=class{constructor(){z(this,qt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ti(this.gcTime)&&N(this,qt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(un?1/0:5*60*1e3))}clearGcTimeout(){y(this,qt)&&(clearTimeout(y(this,qt)),N(this,qt,void 0))}},qt=new WeakMap,vc),$n,Ht,Ae,Gt,ae,Ar,Vt,Fe,nt,xc,Zg=(xc=class extends Ef{constructor(t){super();z(this,Fe);z(this,$n);z(this,Ht);z(this,Ae);z(this,Gt);z(this,ae);z(this,Ar);z(this,Vt);N(this,Vt,!1),N(this,Ar,t.defaultOptions),this.setOptions(t.options),this.observers=[],N(this,Gt,t.client),N(this,Ae,y(this,Gt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,N(this,$n,Jg(this.options)),this.state=t.state??y(this,$n),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return y(this,ae)?.promise}setOptions(t){this.options={...y(this,Ar),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Ae).remove(this)}setData(t,n){const r=ri(this.state.data,t,this.options);return q(this,Fe,nt).call(this,{data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(t,n){q(this,Fe,nt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){const n=y(this,ae)?.promise;return y(this,ae)?.cancel(t),n?n.then(he).catch(he):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,$n))}isActive(){return this.observers.some(t=>Ce(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===na||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ft(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mf(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),y(this,ae)?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),y(this,ae)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Ae).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,ae)&&(y(this,Vt)?y(this,ae).cancel({revert:!0}):y(this,ae).cancelRetry()),this.scheduleGc()),y(this,Ae).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,Fe,nt).call(this,{type:"invalidate"})}fetch(t,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(y(this,ae))return y(this,ae).continueRetry(),y(this,ae).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(N(this,Vt,!0),r.signal)})},o=()=>{const c=yf(this.options,n),f=(()=>{const l={client:y(this,Gt),queryKey:this.queryKey,meta:this.meta};return s(l),l})();return N(this,Vt,!1),this.options.persister?this.options.persister(c,f,this):c(f)},a=(()=>{const c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,Gt),state:this.state,fetchFn:o};return s(c),c})();this.options.behavior?.onFetch(a,this),N(this,Ht,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&q(this,Fe,nt).call(this,{type:"fetch",meta:a.fetchOptions?.meta});const u=c=>{mo(c)&&c.silent||q(this,Fe,nt).call(this,{type:"error",error:c}),mo(c)||(y(this,Ae).config.onError?.(c,this),y(this,Ae).config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return N(this,ae,xf({initialPromise:n?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){u(d);return}y(this,Ae).config.onSuccess?.(c,this),y(this,Ae).config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:u,onFail:(c,d)=>{q(this,Fe,nt).call(this,{type:"failed",failureCount:c,error:d})},onPause:()=>{q(this,Fe,nt).call(this,{type:"pause"})},onContinue:()=>{q(this,Fe,nt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),y(this,ae).start()}},$n=new WeakMap,Ht=new WeakMap,Ae=new WeakMap,Gt=new WeakMap,ae=new WeakMap,Ar=new WeakMap,Vt=new WeakMap,Fe=new WeakSet,nt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Pf(r.data,this.options),fetchMeta:t.meta??null};case"success":return N(this,Ht,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return mo(s)&&s.revert&&y(this,Ht)?{...y(this,Ht),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ne.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,Ae).notify({query:this,type:"updated",action:t})})},xc);function Pf(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wf(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Jg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ge,Ec,Yg=(Ec=class extends Qn{constructor(t={}){super();z(this,Ge);this.config=t,N(this,Ge,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??ta(s,n);let i=this.get(o);return i||(i=new Zg({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){y(this,Ge).has(t.queryHash)||(y(this,Ge).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,Ge).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,Ge).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ne.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,Ge).get(t)}getAll(){return[...y(this,Ge).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>cc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>cc(t,r)):n}notify(t){ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ne.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ne.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ge=new WeakMap,Ec),Ve,de,Wt,We,vt,Pc,Xg=(Pc=class extends Ef{constructor(t){super();z(this,We);z(this,Ve);z(this,de);z(this,Wt);this.mutationId=t.mutationId,N(this,de,t.mutationCache),N(this,Ve,[]),this.state=t.state||Sf(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Ve).includes(t)||(y(this,Ve).push(t),this.clearGcTimeout(),y(this,de).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){N(this,Ve,y(this,Ve).filter(n=>n!==t)),this.scheduleGc(),y(this,de).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Ve).length||(this.state.status==="pending"?this.scheduleGc():y(this,de).remove(this))}continue(){return y(this,Wt)?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{q(this,We,vt).call(this,{type:"continue"})};N(this,Wt,xf({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(o,i)=>{q(this,We,vt).call(this,{type:"failed",failureCount:o,error:i})},onPause:()=>{q(this,We,vt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,de).canRun(this)}));const r=this.state.status==="pending",s=!y(this,Wt).canStart();try{if(r)n();else{q(this,We,vt).call(this,{type:"pending",variables:t,isPaused:s}),await y(this,de).config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&q(this,We,vt).call(this,{type:"pending",context:i,variables:t,isPaused:s})}const o=await y(this,Wt).start();return await y(this,de).config.onSuccess?.(o,t,this.state.context,this),await this.options.onSuccess?.(o,t,this.state.context),await y(this,de).config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,t,this.state.context),q(this,We,vt).call(this,{type:"success",data:o}),o}catch(o){try{throw await y(this,de).config.onError?.(o,t,this.state.context,this),await this.options.onError?.(o,t,this.state.context),await y(this,de).config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,t,this.state.context),o}finally{q(this,We,vt).call(this,{type:"error",error:o})}}finally{y(this,de).runNext(this)}}},Ve=new WeakMap,de=new WeakMap,Wt=new WeakMap,We=new WeakSet,vt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ne.batch(()=>{y(this,Ve).forEach(r=>{r.onMutationUpdate(t)}),y(this,de).notify({mutation:this,type:"updated",action:t})})},Pc);function Sf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var st,Me,$r,Sc,ew=(Sc=class extends Qn{constructor(t={}){super();z(this,st);z(this,Me);z(this,$r);this.config=t,N(this,st,new Set),N(this,Me,new Map),N(this,$r,0)}build(t,n,r){const s=new Xg({mutationCache:this,mutationId:++Dr(this,$r)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,st).add(t);const n=es(t);if(typeof n=="string"){const r=y(this,Me).get(n);r?r.push(t):y(this,Me).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,st).delete(t)){const n=es(t);if(typeof n=="string"){const r=y(this,Me).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,Me).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=es(t);if(typeof n=="string"){const s=y(this,Me).get(n)?.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){const n=es(t);return typeof n=="string"?y(this,Me).get(n)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ne.batch(()=>{y(this,st).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,st).clear(),y(this,Me).clear()})}getAll(){return Array.from(y(this,st))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>uc(n,r))}findAll(t={}){return this.getAll().filter(n=>uc(t,n))}notify(t){ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ne.batch(()=>Promise.all(t.map(n=>n.continue().catch(he))))}},st=new WeakMap,Me=new WeakMap,$r=new WeakMap,Sc);function es(e){return e.options.scope?.id}function lc(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let d=!1;const f=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},l=yf(t.options,t.fetchOptions),h=async(p,m,b)=>{if(d)return Promise.reject();if(m==null&&p.pages.length)return Promise.resolve(p);const E=(()=>{const S={client:t.client,queryKey:t.queryKey,pageParam:m,direction:b?"backward":"forward",meta:t.options.meta};return f(S),S})(),x=await l(E),{maxPages:O}=t.options,w=b?Hg:qg;return{pages:w(p.pages,x,O),pageParams:w(p.pageParams,m,O)}};if(s&&o.length){const p=s==="backward",m=p?tw:hc,b={pages:o,pageParams:i},v=m(r,b);a=await h(b,v,p)}else{const p=e??o.length;do{const m=u===0?i[0]??r.initialPageParam:hc(r,a);if(u>0&&m==null)break;a=await h(a,m),u++}while(u<p)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function hc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function tw(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Z,Pt,St,Cn,Bn,It,On,Tn,Ic,g1=(Ic=class{constructor(e={}){z(this,Z);z(this,Pt);z(this,St);z(this,Cn);z(this,Bn);z(this,It);z(this,On);z(this,Tn);N(this,Z,e.queryCache||new Yg),N(this,Pt,e.mutationCache||new ew),N(this,St,e.defaultOptions||{}),N(this,Cn,new Map),N(this,Bn,new Map),N(this,It,0)}mount(){Dr(this,It)._++,y(this,It)===1&&(N(this,On,ra.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Z).onFocus())})),N(this,Tn,ms.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,Z).onOnline())})))}unmount(){var e,t;Dr(this,It)._--,y(this,It)===0&&((e=y(this,On))==null||e.call(this),N(this,On,void 0),(t=y(this,Tn))==null||t.call(this),N(this,Tn,void 0))}isFetching(e){return y(this,Z).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Pt).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return y(this,Z).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,Z).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ft(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,Z).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=y(this,Z).get(r.queryHash)?.state.data,i=Ug(t,o);if(i!==void 0)return y(this,Z).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ne.batch(()=>y(this,Z).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return y(this,Z).get(t.queryHash)?.state}removeQueries(e){const t=y(this,Z);ne.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,Z);return ne.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ne.batch(()=>y(this,Z).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(he).catch(he)}invalidateQueries(e,t={}){return ne.batch(()=>(y(this,Z).findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ne.batch(()=>y(this,Z).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(he)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(he)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,Z).build(this,t);return n.isStaleByTime(Ft(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(he).catch(he)}fetchInfiniteQuery(e){return e.behavior=lc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(he).catch(he)}ensureInfiniteQueryData(e){return e.behavior=lc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ms.isOnline()?y(this,Pt).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,Z)}getMutationCache(){return y(this,Pt)}getDefaultOptions(){return y(this,St)}setDefaultOptions(e){N(this,St,e)}setQueryDefaults(e,t){y(this,Cn).set(dn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,Cn).values()],n={};return t.forEach(r=>{Ir(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,Bn).set(dn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,Bn).values()],n={};return t.forEach(r=>{Ir(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,St).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ta(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===na&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...y(this,St).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,Z).clear(),y(this,Pt).clear()}},Z=new WeakMap,Pt=new WeakMap,St=new WeakMap,Cn=new WeakMap,Bn=new WeakMap,It=new WeakMap,On=new WeakMap,Tn=new WeakMap,Ic),be,G,Cr,fe,Kt,kn,At,$t,Br,Rn,Fn,Qt,Zt,Ct,Mn,W,er,oi,ii,ai,ci,ui,di,fi,If,Ac,nw=(Ac=class extends Qn{constructor(t,n){super();z(this,W);z(this,be);z(this,G);z(this,Cr);z(this,fe);z(this,Kt);z(this,kn);z(this,At);z(this,$t);z(this,Br);z(this,Rn);z(this,Fn);z(this,Qt);z(this,Zt);z(this,Ct);z(this,Mn,new Set);this.options=n,N(this,be,t),N(this,$t,null),N(this,At,si()),this.options.experimental_prefetchInRender||y(this,At).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,G).addObserver(this),pc(y(this,G),this.options)?q(this,W,er).call(this):this.updateResult(),q(this,W,ci).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return li(y(this,G),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return li(y(this,G),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,q(this,W,ui).call(this),q(this,W,di).call(this),y(this,G).removeObserver(this)}setOptions(t){const n=this.options,r=y(this,G);if(this.options=y(this,be).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ce(this.options.enabled,y(this,G))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");q(this,W,fi).call(this),y(this,G).setOptions(this.options),n._defaulted&&!ps(this.options,n)&&y(this,be).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,G),observer:this});const s=this.hasListeners();s&&mc(y(this,G),r,this.options,n)&&q(this,W,er).call(this),this.updateResult(),s&&(y(this,G)!==r||Ce(this.options.enabled,y(this,G))!==Ce(n.enabled,y(this,G))||Ft(this.options.staleTime,y(this,G))!==Ft(n.staleTime,y(this,G)))&&q(this,W,oi).call(this);const o=q(this,W,ii).call(this);s&&(y(this,G)!==r||Ce(this.options.enabled,y(this,G))!==Ce(n.enabled,y(this,G))||o!==y(this,Ct))&&q(this,W,ai).call(this,o)}getOptimisticResult(t){const n=y(this,be).getQueryCache().build(y(this,be),t),r=this.createResult(n,t);return sw(this,r)&&(N(this,fe,r),N(this,kn,this.options),N(this,Kt,y(this,G).state)),r}getCurrentResult(){return y(this,fe)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n?.(s),Reflect.get(r,s))})}trackProp(t){y(this,Mn).add(t)}getCurrentQuery(){return y(this,G)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=y(this,be).defaultQueryOptions(t),r=y(this,be).getQueryCache().build(y(this,be),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return q(this,W,er).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,fe)))}createResult(t,n){const r=y(this,G),s=this.options,o=y(this,fe),i=y(this,Kt),a=y(this,kn),c=t!==r?t.state:y(this,Cr),{state:d}=t;let f={...d},l=!1,h;if(n._optimisticResults){const g=this.hasListeners(),A=!g&&pc(t,n),P=g&&mc(t,r,n,s);(A||P)&&(f={...f,...Pf(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:b}=f;h=f.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&b==="pending"){let g;o?.isPlaceholderData&&n.placeholderData===a?.placeholderData?(g=o.data,v=!0):g=typeof n.placeholderData=="function"?n.placeholderData(y(this,Fn)?.state.data,y(this,Fn)):n.placeholderData,g!==void 0&&(b="success",h=ri(o?.data,g,n),l=!0)}if(n.select&&h!==void 0&&!v)if(o&&h===i?.data&&n.select===y(this,Br))h=y(this,Rn);else try{N(this,Br,n.select),h=n.select(h),h=ri(o?.data,h,n),N(this,Rn,h),N(this,$t,null)}catch(g){N(this,$t,g)}y(this,$t)&&(p=y(this,$t),h=y(this,Rn),m=Date.now(),b="error");const E=f.fetchStatus==="fetching",x=b==="pending",O=b==="error",w=x&&E,S=h!==void 0,C={status:b,fetchStatus:f.fetchStatus,isPending:x,isSuccess:b==="success",isError:O,isInitialLoading:w,isLoading:w,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:E,isRefetching:E&&!x,isLoadingError:O&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:O&&S,isStale:sa(t,n),refetch:this.refetch,promise:y(this,At),isEnabled:Ce(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const g=$=>{C.status==="error"?$.reject(C.error):C.data!==void 0&&$.resolve(C.data)},A=()=>{const $=N(this,At,C.promise=si());g($)},P=y(this,At);switch(P.status){case"pending":t.queryHash===r.queryHash&&g(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&A();break}}return C}updateResult(){const t=y(this,fe),n=this.createResult(y(this,G),this.options);if(N(this,Kt,y(this,G).state),N(this,kn,this.options),y(this,Kt).data!==void 0&&N(this,Fn,y(this,G)),ps(n,t))return;N(this,fe,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!y(this,Mn).size)return!0;const i=new Set(o??y(this,Mn));return this.options.throwOnError&&i.add("error"),Object.keys(y(this,fe)).some(a=>{const u=a;return y(this,fe)[u]!==t[u]&&i.has(u)})};q(this,W,If).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&q(this,W,ci).call(this)}},be=new WeakMap,G=new WeakMap,Cr=new WeakMap,fe=new WeakMap,Kt=new WeakMap,kn=new WeakMap,At=new WeakMap,$t=new WeakMap,Br=new WeakMap,Rn=new WeakMap,Fn=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,Ct=new WeakMap,Mn=new WeakMap,W=new WeakSet,er=function(t){q(this,W,fi).call(this);let n=y(this,G).fetch(this.options,t);return t?.throwOnError||(n=n.catch(he)),n},oi=function(){q(this,W,ui).call(this);const t=Ft(this.options.staleTime,y(this,G));if(un||y(this,fe).isStale||!ti(t))return;const r=mf(y(this,fe).dataUpdatedAt,t)+1;N(this,Qt,setTimeout(()=>{y(this,fe).isStale||this.updateResult()},r))},ii=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,G)):this.options.refetchInterval)??!1},ai=function(t){q(this,W,di).call(this),N(this,Ct,t),!(un||Ce(this.options.enabled,y(this,G))===!1||!ti(y(this,Ct))||y(this,Ct)===0)&&N(this,Zt,setInterval(()=>{(this.options.refetchIntervalInBackground||ra.isFocused())&&q(this,W,er).call(this)},y(this,Ct)))},ci=function(){q(this,W,oi).call(this),q(this,W,ai).call(this,q(this,W,ii).call(this))},ui=function(){y(this,Qt)&&(clearTimeout(y(this,Qt)),N(this,Qt,void 0))},di=function(){y(this,Zt)&&(clearInterval(y(this,Zt)),N(this,Zt,void 0))},fi=function(){const t=y(this,be).getQueryCache().build(y(this,be),this.options);if(t===y(this,G))return;const n=y(this,G);N(this,G,t),N(this,Cr,t.state),this.hasListeners()&&(n?.removeObserver(this),t.addObserver(this))},If=function(t){ne.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(y(this,fe))}),y(this,be).getQueryCache().notify({query:y(this,G),type:"observerResultsUpdated"})})},Ac);function rw(e,t){return Ce(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pc(e,t){return rw(e,t)||e.state.data!==void 0&&li(e,t,t.refetchOnMount)}function li(e,t,n){if(Ce(t.enabled,e)!==!1&&Ft(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&sa(e,t)}return!1}function mc(e,t,n,r){return(e!==t||Ce(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&sa(e,n)}function sa(e,t){return Ce(t.enabled,e)!==!1&&e.isStaleByTime(Ft(t.staleTime,e))}function sw(e,t){return!ps(e.getCurrentResult(),t)}var Bt,Ot,ye,ot,ct,ss,hi,$c,ow=($c=class extends Qn{constructor(t,n){super();z(this,ct);z(this,Bt);z(this,Ot);z(this,ye);z(this,ot);N(this,Bt,t),this.setOptions(n),this.bindMethods(),q(this,ct,ss).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=y(this,Bt).defaultMutationOptions(t),ps(this.options,n)||y(this,Bt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,ye),observer:this}),n?.mutationKey&&this.options.mutationKey&&dn(n.mutationKey)!==dn(this.options.mutationKey)?this.reset():y(this,ye)?.state.status==="pending"&&y(this,ye).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||y(this,ye)?.removeObserver(this)}onMutationUpdate(t){q(this,ct,ss).call(this),q(this,ct,hi).call(this,t)}getCurrentResult(){return y(this,Ot)}reset(){y(this,ye)?.removeObserver(this),N(this,ye,void 0),q(this,ct,ss).call(this),q(this,ct,hi).call(this)}mutate(t,n){return N(this,ot,n),y(this,ye)?.removeObserver(this),N(this,ye,y(this,Bt).getMutationCache().build(y(this,Bt),this.options)),y(this,ye).addObserver(this),y(this,ye).execute(t)}},Bt=new WeakMap,Ot=new WeakMap,ye=new WeakMap,ot=new WeakMap,ct=new WeakSet,ss=function(){const t=y(this,ye)?.state??Sf();N(this,Ot,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},hi=function(t){ne.batch(()=>{if(y(this,ot)&&this.hasListeners()){const n=y(this,Ot).variables,r=y(this,Ot).context;t?.type==="success"?(y(this,ot).onSuccess?.(t.data,n,r),y(this,ot).onSettled?.(t.data,null,n,r)):t?.type==="error"&&(y(this,ot).onError?.(t.error,n,r),y(this,ot).onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(y(this,Ot))})})},$c);function iw(e){return JSON.stringify(e,(t,n)=>aw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function aw(e){if(!bc(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!bc(n)||!n.hasOwnProperty("isPrototypeOf"))}function bc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Af(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:o,maxPages:i,meta:a,networkMode:u,queryFn:c,queryHash:d,queryKey:f,queryKeyHashFn:l,retry:h,retryDelay:p,structuralSharing:m,getPreviousPageParam:b,getNextPageParam:v,initialPageParam:E,_optimisticResults:x,enabled:O,notifyOnChangeProps:w,placeholderData:S,refetchInterval:I,refetchIntervalInBackground:C,refetchOnMount:g,refetchOnReconnect:A,refetchOnWindowFocus:P,retryOnMount:$,select:k,staleTime:R,suspense:F,throwOnError:M,config:j,connector:T,query:D,...H}=e;return H}function cw(e){return{mutationFn(t){return $y(e,t)},mutationKey:["connect"]}}function uw(e){return{mutationFn(t){return _y(e,t)},mutationKey:["disconnect"]}}function dw(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("address is required");return await Uy(e,{...o,address:r})??null},queryKey:fw(t)}}function fw(e={}){return["balance",Af(e)]}function lw(e){return{mutationFn(t){return Hy(e,t)},mutationKey:["switchChain"]}}function hw(e,t={}){return{async queryFn({queryKey:n}){const{hash:r,...s}=n[1];if(!r)throw new Error("hash is required");return Qy(e,{...s,onReplaced:t.onReplaced,hash:r})},queryKey:pw(t)}}function pw(e={}){const{onReplaced:t,...n}=e;return["waitForTransactionReceipt",Af(n)]}function mw(e){return{mutationFn(t){return Zy(e,t)},mutationKey:["writeContract"]}}var $f=V.createContext(void 0),Cf=e=>{const t=V.useContext($f);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},w1=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),zf.jsx($f.Provider,{value:e,children:t})),Bf=V.createContext(!1),bw=()=>V.useContext(Bf);Bf.Provider;function yw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gw=V.createContext(yw()),ww=()=>V.useContext(gw),vw=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xw=e=>{V.useEffect(()=>{e.clearReset()},[e])},Ew=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||gf(n,[e.error,r])),Pw=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Sw=(e,t)=>e.isLoading&&e.isFetching&&!t,Iw=(e,t)=>e?.suspense&&t.isPending,yc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Aw(e,t,n){const r=bw(),s=ww(),o=Cf(),i=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=r?"isRestoring":"optimistic",Pw(i),vw(i,s),xw(s);const a=!o.getQueryCache().get(i.queryHash),[u]=V.useState(()=>new t(o,i)),c=u.getOptimisticResult(i),d=!r&&e.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(f=>{const l=d?u.subscribe(ne.batchCalls(f)):he;return u.updateResult(),l},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),V.useEffect(()=>{u.setOptions(i)},[i,u]),Iw(i,c))throw yc(i,u,s);if(Ew({result:c,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(i,c),i.experimental_prefetchInRender&&!un&&Sw(c,r)&&(a?yc(i,u,s):o.getQueryCache().get(i.queryHash)?.promise)?.catch(he).finally(()=>{u.updateResult()}),i.notifyOnChangeProps?c:u.trackResult(c)}function $w(e,t){return Aw(e,nw)}function Ls(e,t){const n=Cf(),[r]=V.useState(()=>new ow(n,e));V.useEffect(()=>{r.setOptions(e)},[r,e]);const s=V.useSyncExternalStore(V.useCallback(i=>r.subscribe(ne.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=V.useCallback((i,a)=>{r.mutate(i,a).catch(he)},[r]);if(s.error&&gf(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function Of(e){const t=$w({...e,queryKeyHashFn:iw});return t.queryKey=e.queryKey,t}function Tf(e={}){const t=De(e);return V.useSyncExternalStore(n=>Vy(t,{onChange:n}),()=>nc(t),()=>nc(t))}function v1(e={}){const{address:t,query:n={}}=e,r=De(e),s=Tf({config:r}),o=dw(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Of({...n,...o,enabled:i})}function Cw(e={}){const t=De(e);return V.useSyncExternalStore(n=>vg(t,{onChange:n}),()=>rc(t),()=>rc(t))}function Bw(e={}){const t=De(e);return V.useSyncExternalStore(n=>Ky(t,{onChange:n}),()=>sc(t),()=>sc(t))}function x1(e={}){const{mutation:t}=e,n=De(e),r=cw(n),{mutate:s,mutateAsync:o,...i}=Ls({...t,...r});return V.useEffect(()=>n.subscribe(({status:a})=>a,(a,u)=>{u==="connected"&&a==="disconnected"&&i.reset()}),[n,i.reset]),{...i,connect:s,connectAsync:o,connectors:Bw({config:n})}}function Ow(e={}){const t=De(e);return V.useSyncExternalStore(n=>Wy(t,{onChange:n}),()=>Jo(t),()=>Jo(t))}function E1(e={}){const{mutation:t}=e,n=De(e),r=uw(n),{mutate:s,mutateAsync:o,...i}=Ls({...t,...r});return{...i,connectors:Ow({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:o}}function P1(e={}){const{mutation:t}=e,n=De(e),r=lw(n),{mutate:s,mutateAsync:o,...i}=Ls({...t,...r});return{...i,chains:Cw({config:n}),switchChain:s,switchChainAsync:o}}function S1(e={}){const{hash:t,query:n={}}=e,r=De(e),s=Tf({config:r}),o=hw(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Of({...n,...o,enabled:i})}function I1(e={}){const{mutation:t}=e,n=De(e),r=mw(n),{mutate:s,mutateAsync:o,...i}=Ls({...t,...r});return{...i,writeContract:s,writeContractAsync:o}}export{xu as $,Ww as A,Vw as B,hs as C,or as D,Xo as E,e1 as F,Jw as G,vl as H,$l as I,Ld as J,Tt as K,Hw as L,Te as M,Qw as N,t1 as O,wn as P,g1 as Q,en as R,rn as S,kr as T,le as U,ws as V,b1 as W,Xw as X,Gw as Y,Zw as Z,tu as _,m1 as a,Dw as a0,Uw as a1,Le as a2,it as a3,ub as a4,ht as a5,se as a6,a1 as a7,wb as a8,L as a9,_e as aA,Md as aB,zn as aC,ut as aD,c1 as aE,Jt as aF,Be as aG,Qe as aH,Xp as aI,Nn as aJ,J as aK,l1 as aL,o1 as aM,Mc as aN,_r as aO,qw as aP,je as aQ,Ur as aR,p1 as aS,Da as aa,Je as ab,Lu as ac,B as ad,Fr as ae,we as af,Gu as ag,Jp as ah,Mo as ai,Ku as aj,Oe as ak,Ei as al,ce as am,Ue as an,Ph as ao,u1 as ap,As as aq,Ci as ar,ft as as,vm as at,ee as au,lt as av,Kn as aw,Xi as ax,f1 as ay,xe as az,w1 as b,h1 as c,s1 as d,x1 as e,E1 as f,vn as g,d1 as h,ea as i,zf as j,Tf as k,P1 as l,v1 as m,_ as n,I1 as o,S1 as p,i1 as q,zy as r,Si as s,Ps as t,y1 as u,xb as v,Bd as w,Kw as x,o0 as y,Yw as z};
